From 42e84fb62c65a0a0ef63c67d9ab87eab8c71a4ae Mon Sep 17 00:00:00 2001
From: Pengpeng Cui <pengpengx.cui@intel.com>
Date: Thu, 19 Mar 2015 15:51:40 +0800
Subject: [PATCH 311/314] atomisp2: css2400 2401 and
 2401_legacy-irci_master_20150318_1500

Merge CSS2.1 for css2401 and 2401_legacy
for irci_master_20150318_1500 firmware tag

Change-Id: I9f031b4b8dd95459f9a1555cdc7d9c05aa70438c
Tracked-On: https://jira01.devtools.intel.com/browse/IMINAN-26657
Signed-off-by: Pengpeng Cui <pengpengx.cui@intel.com>
Reviewed-on: https://icggerrit.ir.intel.com/47044
Build: IMIN-legacy (SC)
Build: Wei Tao <wei.tao@intel.com>
Reviewed-by: Wei Tao <wei.tao@intel.com>
Integrator: Wei Tao <wei.tao@intel.com>
Maintainer: Wei Tao <wei.tao@intel.com>
---
 .../css/base/refcount/interface/ia_css_refcount.h  |   9 +
 .../pci/atomisp2/css/base/refcount/src/refcount.c  |  13 +
 .../ia_css_isp_params.h                            |   2 +
 .../pci/atomisp2/css/css_2400_system/spmem_dump.c  | 370 +++++++++++----------
 .../ia_css_isp_params.h                            |   2 +
 .../css/css_2401_csi2p_system/spmem_dump.c         | 324 +++++++++---------
 .../ia_css_isp_params.h                            |   2 +
 .../pci/atomisp2/css/css_2401_system/spmem_dump.c  | 366 ++++++++++----------
 .../media/pci/atomisp2/css/css_api_version.h       |  47 ++-
 .../camera/drivers/media/pci/atomisp2/css/ia_css.h |   2 +-
 .../media/pci/atomisp2/css/ia_css_acc_types.h      |   1 +
 .../media/pci/atomisp2/css/ia_css_frame_format.h   |   1 +
 .../media/pci/atomisp2/css/ia_css_host_data.h      |   2 +-
 .../drivers/media/pci/atomisp2/css/ia_css_types.h  |   2 +-
 .../media/pci/atomisp2/css/ia_css_version_data.h   |   2 +-
 .../atomisp2/css/isp/kernels/hdr/ia_css_hdr.host.c |   2 +-
 .../atomisp2/css/isp/kernels/hdr/ia_css_hdr.host.h |   2 +-
 .../css/isp/kernels/hdr/ia_css_hdr_param.h         |   2 +-
 .../css/isp/kernels/hdr/ia_css_hdr_types.h         |   2 +-
 .../io_ls/bayer_io_ls/ia_css_bayer_io.host.c       |  84 +++++
 .../io_ls/bayer_io_ls/ia_css_bayer_io.host.h       |  29 ++
 .../atomisp2/css/isp/modes/interface/isp_const.h   |  96 +++---
 .../atomisp2/css/isp/modes/interface/isp_exprs.h   |   6 +-
 .../pci/atomisp2/css/runtime/binary/src/binary.c   |   6 +-
 .../atomisp2/css/runtime/debug/src/ia_css_debug.c  |   2 +
 .../pci/atomisp2/css/runtime/frame/src/frame.c     |  53 ++-
 .../camera/drivers/media/pci/atomisp2/css/sh_css.c |   4 +-
 .../media/pci/atomisp2/css/sh_css_firmware.c       |   4 +-
 .../media/pci/atomisp2/css/sh_css_param_dvs.c      | 139 ++++----
 .../drivers/media/pci/atomisp2/css/sh_css_params.c |   8 +
 .../drivers/media/pci/atomisp2/css/sh_css_sp.c     |  11 +
 .../io_ls/bayer_io_ls/ia_css_bayer_io.host.c       |   1 +
 .../io_ls/bayer_io_ls/ia_css_bayer_io.host.h       |   1 +
 .../io_ls/bayer_io_ls/ia_css_bayer_io.host.c       |   1 +
 .../io_ls/bayer_io_ls/ia_css_bayer_io.host.h       |   1 +
 .../io_ls/bayer_io_ls/ia_css_bayer_io.host.c       |   1 +
 .../io_ls/bayer_io_ls/ia_css_bayer_io.host.h       |   1 +
 37 files changed, 911 insertions(+), 690 deletions(-)
 create mode 100644 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
 create mode 100644 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
 create mode 120000 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
 create mode 120000 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
 create mode 120000 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_legacy_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
 create mode 120000 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_legacy_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
 create mode 120000 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
 create mode 120000 drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h

diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/base/refcount/interface/ia_css_refcount.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/base/refcount/interface/ia_css_refcount.h
index 164130f..20db4de 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/base/refcount/interface/ia_css_refcount.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/base/refcount/interface/ia_css_refcount.h
@@ -71,4 +71,13 @@ extern bool ia_css_refcount_is_single(hrt_vaddress ptr);
 extern void ia_css_refcount_clear(int32_t id,
 				  clear_func clear_func_ptr);
 
+/*! \brief Function to verify if object is valid
+ *
+ * \param[in] ptr       Data of the object (ptr)
+ *
+ *      - true, if valid
+ *      - false, if invalid
+ */
+extern bool ia_css_refcount_is_valid(hrt_vaddress ptr);
+
 #endif /* _IA_CSS_REFCOUNT_H_ */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/base/refcount/src/refcount.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/base/refcount/src/refcount.c
index 23af6f9..2f5b4c8 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/base/refcount/src/refcount.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/base/refcount/src/refcount.c
@@ -260,3 +260,16 @@ void ia_css_refcount_clear(int32_t id, clear_func clear_func_ptr)
 			    "ia_css_refcount_clear(%x): cleared %d\n", id,
 			    count);
 }
+
+bool ia_css_refcount_is_valid(hrt_vaddress ptr)
+{
+	struct ia_css_refcount_entry *entry;
+
+	if (ptr == mmgr_NULL)
+		return false;
+
+	entry = refcount_find_entry(ptr, false);
+
+	return entry != NULL;
+}
+
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/hive_isp_css_2400_system_generated/ia_css_isp_params.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/hive_isp_css_2400_system_generated/ia_css_isp_params.h
index 23c6b60..9680f4e 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/hive_isp_css_2400_system_generated/ia_css_isp_params.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/hive_isp_css_2400_system_generated/ia_css_isp_params.h
@@ -110,6 +110,8 @@ struct ia_css_memory_offsets {
 		struct ia_css_isp_parameter ctc;
 		struct ia_css_isp_parameter xnr;
 		struct ia_css_isp_parameter xnr3;
+		struct ia_css_isp_parameter get;
+		struct ia_css_isp_parameter put;
 	} dmem;
 	struct {
 		struct ia_css_isp_parameter anr2;
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/spmem_dump.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/spmem_dump.c
index 5f5ae51..5b05948 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/spmem_dump.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2400_system/spmem_dump.c
@@ -24,7 +24,7 @@
 
 /* function input_system_acquisition_stop: ADE */
 
-/* function longjmp: 6884 */
+/* function longjmp: 684E */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SRST_MASK
@@ -38,11 +38,11 @@
 #define HIVE_ADDR_sp_HIVE_IF_SRST_MASK 0x1C8
 #define HIVE_SIZE_sp_HIVE_IF_SRST_MASK 16
 
-/* function tmpmem_init_dmem: 65B6 */
+/* function tmpmem_init_dmem: 6580 */
 
-/* function ia_css_isys_sp_token_map_receive_ack: 5EFA */
+/* function ia_css_isys_sp_token_map_receive_ack: 5EC4 */
 
-/* function ia_css_dmaproxy_sp_set_addr_B: 32B0 */
+/* function ia_css_dmaproxy_sp_set_addr_B: 332C */
 
 /* function debug_buffer_set_ddr_addr: DD */
 
@@ -60,13 +60,13 @@
 #define HIVE_ADDR_sp_vbuf_mipi 0x631C
 #define HIVE_SIZE_sp_vbuf_mipi 12
 
-/* function ia_css_event_sp_decode: 34A1 */
+/* function ia_css_event_sp_decode: 351D */
 
-/* function ia_css_queue_get_size: 481A */
+/* function ia_css_queue_get_size: 48A5 */
 
-/* function ia_css_queue_load: 4E5B */
+/* function ia_css_queue_load: 4EE6 */
 
-/* function setjmp: 688D */
+/* function setjmp: 6857 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_sp2host_isys_event_queue
@@ -80,11 +80,11 @@
 #define HIVE_ADDR_sp_sem_for_sp2host_isys_event_queue 0x4684
 #define HIVE_SIZE_sp_sem_for_sp2host_isys_event_queue 20
 
-/* function ia_css_dmaproxy_sp_wait_for_ack: 6E3D */
+/* function ia_css_dmaproxy_sp_wait_for_ack: 6E07 */
 
-/* function ia_css_sp_rawcopy_func: 5080 */
+/* function ia_css_sp_rawcopy_func: 510B */
 
-/* function ia_css_tagger_buf_sp_pop_marked: 2942 */
+/* function ia_css_tagger_buf_sp_pop_marked: 29F7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_stage
@@ -101,18 +101,18 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_raw
 #define HIVE_MEM_vbuf_raw scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_raw 0x2F0
+#define HIVE_ADDR_vbuf_raw 0x2F4
 #define HIVE_SIZE_vbuf_raw 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_raw scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_raw 0x2F0
+#define HIVE_ADDR_sp_vbuf_raw 0x2F4
 #define HIVE_SIZE_sp_vbuf_raw 4
 
-/* function ia_css_sp_bin_copy_func: 4FA7 */
+/* function ia_css_sp_bin_copy_func: 5032 */
 
-/* function ia_css_queue_item_store: 4BA9 */
+/* function ia_css_queue_item_store: 4C34 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_metadata_bufs
@@ -166,7 +166,7 @@
 
 /* function ia_css_thread_sp_main: D5B */
 
-/* function ia_css_ispctrl_sp_init_internal_buffers: 36A7 */
+/* function ia_css_ispctrl_sp_init_internal_buffers: 3723 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_psys_event_queue_handle
@@ -192,7 +192,7 @@
 #define HIVE_ADDR_sp_sem_for_sp2host_psys_event_queue 0x4698
 #define HIVE_SIZE_sp_sem_for_sp2host_psys_event_queue 20
 
-/* function ia_css_tagger_sp_propagate_frame: 23E2 */
+/* function ia_css_tagger_sp_propagate_frame: 2410 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_stop_copy_preview
@@ -220,19 +220,19 @@
 #define HIVE_ADDR_sp_vbuf_handles 0x6328
 #define HIVE_SIZE_sp_vbuf_handles 960
 
-/* function ia_css_queue_store: 4D0F */
+/* function ia_css_queue_store: 4D9A */
 
-/* function ia_css_sp_flash_register: 2BB0 */
+/* function ia_css_sp_flash_register: 2C2C */
 
-/* function ia_css_sp_rawcopy_dummy_function: 5688 */
+/* function ia_css_sp_rawcopy_dummy_function: 5652 */
 
-/* function ia_css_isys_sp_backend_create: 5B6D */
+/* function ia_css_isys_sp_backend_create: 5B37 */
 
 /* function ia_css_pipeline_sp_init: 1833 */
 
-/* function ia_css_tagger_sp_configure: 22D2 */
+/* function ia_css_tagger_sp_configure: 2300 */
 
-/* function ia_css_ispctrl_sp_end_binary: 34EA */
+/* function ia_css_ispctrl_sp_end_binary: 3566 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs
@@ -296,7 +296,7 @@
 #define HIVE_ADDR_sp_host_sp_com 0x4114
 #define HIVE_SIZE_sp_host_sp_com 220
 
-/* function ia_css_queue_get_free_space: 496E */
+/* function ia_css_queue_get_free_space: 49F9 */
 
 /* function exec_image_pipe: 6C4 */
 
@@ -312,19 +312,19 @@
 #define HIVE_ADDR_sp_sp_init_dmem_data 0x62B0
 #define HIVE_SIZE_sp_sp_init_dmem_data 24
 
-/* function ia_css_sp_metadata_start: 594A */
+/* function ia_css_sp_metadata_start: 5914 */
 
-/* function ia_css_bufq_sp_init_buffer_queues: 2C1F */
+/* function ia_css_bufq_sp_init_buffer_queues: 2C9B */
 
 /* function ia_css_pipeline_sp_stop: 1816 */
 
-/* function ia_css_tagger_sp_connect_pipes: 27AB */
+/* function ia_css_tagger_sp_connect_pipes: 27EA */
 
 /* function sp_isys_copy_wait: 70D */
 
 /* function is_isp_debug_buffer_full: 337 */
 
-/* function ia_css_dmaproxy_sp_configure_channel_from_info: 3233 */
+/* function ia_css_dmaproxy_sp_configure_channel_from_info: 32AF */
 
 /* function encode_and_post_timer_event: A30 */
 
@@ -340,7 +340,7 @@
 #define HIVE_ADDR_sp_sp_per_frame_data 0x41F0
 #define HIVE_SIZE_sp_sp_per_frame_data 4
 
-/* function ia_css_rmgr_sp_vbuf_dequeue: 630A */
+/* function ia_css_rmgr_sp_vbuf_dequeue: 62D4 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_psys_event_queue_handle
@@ -366,11 +366,11 @@
 #define HIVE_ADDR_sp_xmem_bin_addr 0x41F4
 #define HIVE_SIZE_sp_xmem_bin_addr 4
 
-/* function tmr_clock_init: 65D6 */
+/* function tmr_clock_init: 65A0 */
 
 /* function ia_css_pipeline_sp_run: 1403 */
 
-/* function memcpy: 692D */
+/* function memcpy: 68F7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_GP_DEVICE_BASE
@@ -398,13 +398,13 @@
 
 /* function input_system_reg_store: B1E */
 
-/* function ia_css_isys_sp_frontend_start: 5D83 */
+/* function ia_css_isys_sp_frontend_start: 5D4D */
 
-/* function ia_css_uds_sp_scale_params: 6636 */
+/* function ia_css_uds_sp_scale_params: 6600 */
 
 /* function ia_css_circbuf_increase_size: E40 */
 
-/* function __divu: 68AB */
+/* function __divu: 6875 */
 
 /* function ia_css_thread_sp_get_state: C83 */
 
@@ -436,9 +436,9 @@
 
 /* function ia_css_parambuf_sp_handle_parameter_sets: 128A */
 
-/* function ia_css_spctrl_sp_set_state: 5979 */
+/* function ia_css_spctrl_sp_set_state: 5943 */
 
-/* function ia_css_thread_sem_sp_signal: 6B2D */
+/* function ia_css_thread_sem_sp_signal: 6AF7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_IRQ_BASE
@@ -464,13 +464,13 @@
 #define HIVE_ADDR_sp_TIMED_CTRL_BASE 0x40
 #define HIVE_SIZE_sp_TIMED_CTRL_BASE 4
 
-/* function ia_css_isys_sp_isr: 7012 */
+/* function ia_css_isys_sp_isr: 6FDC */
 
-/* function ia_css_isys_sp_generate_exp_id: 611B */
+/* function ia_css_isys_sp_generate_exp_id: 60E5 */
 
-/* function ia_css_rmgr_sp_init: 6205 */
+/* function ia_css_rmgr_sp_init: 61CF */
 
-/* function ia_css_thread_sem_sp_init: 6BFE */
+/* function ia_css_thread_sem_sp_init: 6BC8 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_is_isp_requested
@@ -496,15 +496,15 @@
 #define HIVE_ADDR_sp_sem_for_reading_cb_frame 0x46D0
 #define HIVE_SIZE_sp_sem_for_reading_cb_frame 40
 
-/* function ia_css_dmaproxy_sp_execute: 319B */
+/* function ia_css_dmaproxy_sp_execute: 3217 */
 
-/* function ia_css_queue_is_empty: 4855 */
+/* function ia_css_queue_is_empty: 48E0 */
 
 /* function ia_css_pipeline_sp_has_stopped: 180C */
 
 /* function ia_css_circbuf_extract: F44 */
 
-/* function ia_css_tagger_buf_sp_is_locked_from_start: 2A91 */
+/* function ia_css_tagger_buf_sp_is_locked_from_start: 2B0D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_current_sp_thread
@@ -518,13 +518,13 @@
 #define HIVE_ADDR_sp_current_sp_thread 0x1DC
 #define HIVE_SIZE_sp_current_sp_thread 4
 
-/* function ia_css_spctrl_sp_get_spid: 5980 */
+/* function ia_css_spctrl_sp_get_spid: 594A */
 
-/* function ia_css_bufq_sp_reset_buffers: 2CA6 */
+/* function ia_css_bufq_sp_reset_buffers: 2D22 */
 
-/* function ia_css_dmaproxy_sp_read_byte_addr: 6E6B */
+/* function ia_css_dmaproxy_sp_read_byte_addr: 6E35 */
 
-/* function ia_css_rmgr_sp_uninit: 61FE */
+/* function ia_css_rmgr_sp_uninit: 61C8 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_stack
@@ -542,7 +542,7 @@
 
 /* function ia_css_parambuf_sp_wait_for_in_param: 1053 */
 
-/* function ia_css_isys_sp_token_map_get_exp_id: 5FE3 */
+/* function ia_css_isys_sp_token_map_get_exp_id: 5FAD */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cb_elems_param
@@ -594,7 +594,7 @@
 #define HIVE_ADDR_sp_sem_for_reading_cb_param 0x4710
 #define HIVE_SIZE_sp_sem_for_reading_cb_param 40
 
-/* function ia_css_queue_get_used_space: 4922 */
+/* function ia_css_queue_get_used_space: 49AD */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_cont_capt_start
@@ -620,11 +620,11 @@
 #define HIVE_ADDR_sp_tmp_heap 0x6010
 #define HIVE_SIZE_sp_tmp_heap 640
 
-/* function ia_css_rmgr_sp_get_num_vbuf: 650E */
+/* function ia_css_rmgr_sp_get_num_vbuf: 64D8 */
 
-/* function ia_css_ispctrl_sp_output_compute_dma_info: 3ECB */
+/* function ia_css_ispctrl_sp_output_compute_dma_info: 3F49 */
 
-/* function ia_css_tagger_sp_lock_exp_id: 20BD */
+/* function ia_css_tagger_sp_lock_exp_id: 20CD */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_s3a_bufs
@@ -638,11 +638,11 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 0x4B8C
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 60
 
-/* function ia_css_queue_is_full: 49B9 */
+/* function ia_css_queue_is_full: 4A44 */
 
 /* function debug_buffer_init_isp: E4 */
 
-/* function ia_css_isys_sp_frontend_uninit: 5D3D */
+/* function ia_css_isys_sp_frontend_uninit: 5D07 */
 
 /* function ia_css_tagger_sp_exp_id_is_locked: 2003 */
 
@@ -658,7 +658,7 @@
 #define HIVE_ADDR_sp_ia_css_rmgr_sp_mipi_frame_sem 0x66E8
 #define HIVE_SIZE_sp_ia_css_rmgr_sp_mipi_frame_sem 60
 
-/* function ia_css_rmgr_sp_refcount_dump: 62E5 */
+/* function ia_css_rmgr_sp_refcount_dump: 62AF */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_isp_parameters_id
@@ -698,7 +698,7 @@
 #define HIVE_ADDR_sp_host2sp_isys_event_queue_handle 0x4BDC
 #define HIVE_SIZE_sp_host2sp_isys_event_queue_handle 12
 
-/* function ia_css_thread_sp_yield: 6AA6 */
+/* function ia_css_thread_sp_yield: 6A70 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param_desc
@@ -726,21 +726,23 @@
 
 /* function ia_css_thread_sp_fork: D10 */
 
-/* function ia_css_tagger_sp_destroy: 27B5 */
+/* function ia_css_tagger_sp_destroy: 27F4 */
 
-/* function ia_css_dmaproxy_sp_vmem_read: 313B */
+/* function ia_css_dmaproxy_sp_vmem_read: 31B7 */
 
-/* function ia_css_ifmtr_sp_init: 616C */
+/* function ia_css_ifmtr_sp_init: 6136 */
 
 /* function initialize_sp_group: 6D4 */
 
+/* function ia_css_tagger_buf_sp_peek: 2919 */
+
 /* function ia_css_thread_sp_init: D3C */
 
-/* function ia_css_isys_sp_reset_exp_id: 6113 */
+/* function ia_css_isys_sp_reset_exp_id: 60DD */
 
-/* function qos_scheduler_update_fps: 6626 */
+/* function qos_scheduler_update_fps: 65F0 */
 
-/* function ia_css_ispctrl_sp_set_stream_base_addr: 4593 */
+/* function ia_css_ispctrl_sp_set_stream_base_addr: 461E */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ISP_DMEM_BASE
@@ -766,18 +768,18 @@
 #define HIVE_ADDR_sp_SP_DMEM_BASE 0x4
 #define HIVE_SIZE_sp_SP_DMEM_BASE 4
 
-/* function ia_css_dmaproxy_sp_read: 31B1 */
+/* function ia_css_dmaproxy_sp_read: 322D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_raw_copy_line_count
 #define HIVE_MEM_raw_copy_line_count scalar_processor_2400_dmem
-#define HIVE_ADDR_raw_copy_line_count 0x2C4
+#define HIVE_ADDR_raw_copy_line_count 0x2C8
 #define HIVE_SIZE_raw_copy_line_count 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_raw_copy_line_count scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_raw_copy_line_count 0x2C4
+#define HIVE_ADDR_sp_raw_copy_line_count 0x2C8
 #define HIVE_SIZE_sp_raw_copy_line_count 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -792,7 +794,7 @@
 #define HIVE_ADDR_sp_host2sp_tag_cmd_queue_handle 0x4BE8
 #define HIVE_SIZE_sp_host2sp_tag_cmd_queue_handle 12
 
-/* function ia_css_queue_peek: 4898 */
+/* function ia_css_queue_peek: 4923 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_frame_cnt
@@ -832,13 +834,15 @@
 
 /* function encode_and_post_sp_event_non_blocking: A78 */
 
-/* function ia_css_isys_sp_frontend_destroy: 5E15 */
+/* function ia_css_isys_sp_frontend_destroy: 5DDF */
 
 /* function is_ddr_debug_buffer_full: 2CC */
 
-/* function ia_css_isys_sp_frontend_stop: 5D55 */
+/* function ia_css_isys_sp_frontend_stop: 5D1F */
+
+/* function ia_css_isys_sp_token_map_init: 607B */
 
-/* function ia_css_isys_sp_token_map_init: 60B1 */
+/* function ia_css_tagger_buf_sp_get_oldest_marked_offset: 2969 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_fiber
@@ -856,9 +860,9 @@
 
 /* function debug_enqueue_ddr: EE */
 
-/* function ia_css_rmgr_sp_refcount_init_vbuf: 62A0 */
+/* function ia_css_rmgr_sp_refcount_init_vbuf: 626A */
 
-/* function dmaproxy_sp_read_write: 6F1A */
+/* function dmaproxy_sp_read_write: 6EE4 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_dmaproxy_isp_dma_cmd_buffer
@@ -896,17 +900,17 @@
 #define HIVE_ADDR_sp_ia_css_flash_sp_in_service 0x3178
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_service 4
 
-/* function ia_css_dmaproxy_sp_process: 6C26 */
+/* function ia_css_dmaproxy_sp_process: 6BF0 */
 
-/* function ia_css_tagger_buf_sp_mark_from_end: 2B75 */
+/* function ia_css_tagger_buf_sp_mark_from_end: 2BF1 */
 
-/* function ia_css_isys_sp_backend_rcv_acquire_ack: 5A22 */
+/* function ia_css_isys_sp_backend_rcv_acquire_ack: 59EC */
 
-/* function ia_css_isys_sp_backend_pre_acquire_request: 5A38 */
+/* function ia_css_isys_sp_backend_pre_acquire_request: 5A02 */
 
-/* function ia_css_ispctrl_sp_init_cs: 35D7 */
+/* function ia_css_ispctrl_sp_init_cs: 3653 */
 
-/* function ia_css_spctrl_sp_init: 598E */
+/* function ia_css_spctrl_sp_init: 5958 */
 
 /* function sp_event_proxy_init: 730 */
 
@@ -970,11 +974,11 @@
 #define HIVE_ADDR_sp_INPUT_FORMATTER_BASE 0x4C
 #define HIVE_SIZE_sp_INPUT_FORMATTER_BASE 16
 
-/* function sp_dma_proxy_reset_channels: 340B */
+/* function sp_dma_proxy_reset_channels: 3487 */
 
-/* function ia_css_isys_sp_backend_acquire: 5B43 */
+/* function ia_css_isys_sp_backend_acquire: 5B0D */
 
-/* function ia_css_tagger_sp_update_size: 28A9 */
+/* function ia_css_tagger_sp_update_size: 28E8 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_host_sp_queue
@@ -990,7 +994,7 @@
 
 /* function thread_fiber_sp_create: DA8 */
 
-/* function ia_css_dmaproxy_sp_set_increments: 329D */
+/* function ia_css_dmaproxy_sp_set_increments: 3319 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_writing_cb_frame
@@ -1026,21 +1030,21 @@
 #endif
 #define HIVE_ADDR_sp_sp_start_isp_entry 0x453
 
-/* function ia_css_tagger_buf_sp_unmark_all: 2AF9 */
+/* function ia_css_tagger_buf_sp_unmark_all: 2B75 */
 
-/* function ia_css_tagger_buf_sp_unmark_from_start: 2B3A */
+/* function ia_css_tagger_buf_sp_unmark_from_start: 2BB6 */
 
-/* function ia_css_dmaproxy_sp_channel_acquire: 3437 */
+/* function ia_css_dmaproxy_sp_channel_acquire: 34B3 */
 
-/* function ia_css_rmgr_sp_add_num_vbuf: 64EA */
+/* function ia_css_rmgr_sp_add_num_vbuf: 64B4 */
 
-/* function ia_css_isys_sp_token_map_create: 60FA */
+/* function ia_css_isys_sp_token_map_create: 60C4 */
 
-/* function __ia_css_dmaproxy_sp_wait_for_ack_text: 3107 */
+/* function __ia_css_dmaproxy_sp_wait_for_ack_text: 3183 */
 
 /* function ia_css_tagger_sp_acquire_buf_elem: 1FDB */
 
-/* function ia_css_bufq_sp_is_dynamic_buffer: 2FF0 */
+/* function ia_css_bufq_sp_is_dynamic_buffer: 306C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_group
@@ -1068,9 +1072,9 @@
 
 /* function ia_css_thread_sp_kill: CD6 */
 
-/* function ia_css_tagger_sp_create: 2863 */
+/* function ia_css_tagger_sp_create: 28A2 */
 
-/* function tmpmem_acquire_dmem: 6597 */
+/* function tmpmem_acquire_dmem: 6561 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_MMU_BASE
@@ -1084,9 +1088,9 @@
 #define HIVE_ADDR_sp_MMU_BASE 0x24
 #define HIVE_SIZE_sp_MMU_BASE 8
 
-/* function ia_css_dmaproxy_sp_channel_release: 3423 */
+/* function ia_css_dmaproxy_sp_channel_release: 349F */
 
-/* function ia_css_dmaproxy_sp_is_idle: 3403 */
+/* function ia_css_dmaproxy_sp_is_idle: 347F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_qos_start
@@ -1104,7 +1108,7 @@
 
 /* function ia_css_tagger_sp_release_buf_elem: 1FB7 */
 
-/* function ia_css_eventq_sp_send: 3479 */
+/* function ia_css_eventq_sp_send: 34F5 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_isys_sp_error_cnt
@@ -1118,7 +1122,7 @@
 #define HIVE_ADDR_sp_ia_css_isys_sp_error_cnt 0x62D4
 #define HIVE_SIZE_sp_ia_css_isys_sp_error_cnt 16
 
-/* function ia_css_tagger_buf_sp_unlock_from_start: 2A29 */
+/* function ia_css_tagger_buf_sp_unlock_from_start: 2AA5 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_debug_buffer_ddr_address
@@ -1134,29 +1138,29 @@
 
 /* function sp_isys_copy_request: 714 */
 
-/* function ia_css_rmgr_sp_refcount_retain_vbuf: 637A */
+/* function ia_css_rmgr_sp_refcount_retain_vbuf: 6344 */
 
 /* function ia_css_thread_sp_set_priority: CCE */
 
 /* function sizeof_hmem: BFC */
 
-/* function tmpmem_release_dmem: 6586 */
+/* function tmpmem_release_dmem: 6550 */
 
 /* function cnd_input_system_cfg: 392 */
 
-/* function __ia_css_sp_rawcopy_func_critical: 6F9B */
+/* function __ia_css_sp_rawcopy_func_critical: 6F65 */
 
-/* function ia_css_dmaproxy_sp_set_width_exception: 3288 */
+/* function ia_css_dmaproxy_sp_set_width_exception: 3304 */
 
 /* function sp_event_assert: 8B1 */
 
-/* function ia_css_flash_sp_init_internal_params: 2C14 */
+/* function ia_css_flash_sp_init_internal_params: 2C90 */
 
-/* function ia_css_tagger_buf_sp_pop_unmarked_and_unlocked: 28DA */
+/* function ia_css_tagger_buf_sp_pop_unmarked_and_unlocked: 29AB */
 
-/* function __modu: 68F1 */
+/* function __modu: 68BB */
 
-/* function ia_css_dmaproxy_sp_init_isp_vector: 310D */
+/* function ia_css_dmaproxy_sp_init_isp_vector: 3189 */
 
 /* function isp_vamem_store: 0 */
 
@@ -1172,11 +1176,11 @@
 #define HIVE_ADDR_sp_GDC_BASE 0x44
 #define HIVE_SIZE_sp_GDC_BASE 8
 
-/* function ia_css_queue_local_init: 4B83 */
+/* function ia_css_queue_local_init: 4C0E */
 
-/* function sp_event_proxy_callout_func: 69BE */
+/* function sp_event_proxy_callout_func: 6988 */
 
-/* function qos_scheduler_schedule_stage: 65F7 */
+/* function qos_scheduler_schedule_stage: 65C1 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_thread_sp_num_ready_threads
@@ -1202,13 +1206,13 @@
 #define HIVE_ADDR_sp_sp_threads_stack_size 0x180
 #define HIVE_SIZE_sp_sp_threads_stack_size 28
 
-/* function ia_css_ispctrl_sp_isp_done_row_striping: 3EB1 */
+/* function ia_css_ispctrl_sp_isp_done_row_striping: 3F2F */
 
-/* function __ia_css_isys_sp_isr_text: 5E3F */
+/* function __ia_css_isys_sp_isr_text: 5E09 */
 
-/* function ia_css_queue_dequeue: 4A01 */
+/* function ia_css_queue_dequeue: 4A8C */
 
-/* function ia_css_dmaproxy_sp_configure_channel: 6E82 */
+/* function ia_css_dmaproxy_sp_configure_channel: 6E4C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_current_thread_fiber_sp
@@ -1224,7 +1228,7 @@
 
 /* function ia_css_circbuf_pop: FD8 */
 
-/* function memset: 6970 */
+/* function memset: 693A */
 
 /* function irq_raise_set_token: B6 */
 
@@ -1256,11 +1260,11 @@
 #define HIVE_ADDR_sp_isp_ph 0x62E4
 #define HIVE_SIZE_sp_isp_ph 28
 
-/* function ia_css_isys_sp_token_map_flush: 603F */
+/* function ia_css_isys_sp_token_map_flush: 6009 */
 
-/* function ia_css_ispctrl_sp_init_ds: 3736 */
+/* function ia_css_ispctrl_sp_init_ds: 37B2 */
 
-/* function get_xmem_base_addr_raw: 3AE1 */
+/* function get_xmem_base_addr_raw: 3B5F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param
@@ -1288,21 +1292,21 @@
 #define HIVE_ADDR_sp_sem_for_sp_group 0x47A0
 #define HIVE_SIZE_sp_sem_for_sp_group 20
 
-/* function ia_css_framebuf_sp_wait_for_in_frame: 6515 */
+/* function ia_css_framebuf_sp_wait_for_in_frame: 64DF */
 
-/* function ia_css_sp_rawcopy_tag_frame: 55A5 */
+/* function ia_css_sp_rawcopy_tag_frame: 556F */
 
 /* function isp_hmem_clear: B25 */
 
-/* function ia_css_framebuf_sp_release_in_frame: 6558 */
+/* function ia_css_framebuf_sp_release_in_frame: 6522 */
 
-/* function ia_css_isys_sp_backend_snd_acquire_request: 5A95 */
+/* function ia_css_isys_sp_backend_snd_acquire_request: 5A5F */
 
-/* function ia_css_isys_sp_token_map_is_full: 5EC6 */
+/* function ia_css_isys_sp_token_map_is_full: 5E90 */
 
 /* function input_system_acquisition_run: AF9 */
 
-/* function ia_css_ispctrl_sp_start_binary: 35B5 */
+/* function ia_css_ispctrl_sp_start_binary: 3631 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_h_pipe_private_ddr_ptrs
@@ -1316,21 +1320,21 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 0x58F4
 #define HIVE_SIZE_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 20
 
-/* function ia_css_eventq_sp_recv: 344B */
+/* function ia_css_eventq_sp_recv: 34C7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_pool
 #define HIVE_MEM_isp_pool scalar_processor_2400_dmem
-#define HIVE_ADDR_isp_pool 0x2E4
+#define HIVE_ADDR_isp_pool 0x2E8
 #define HIVE_SIZE_isp_pool 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isp_pool scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_pool 0x2E4
+#define HIVE_ADDR_sp_isp_pool 0x2E8
 #define HIVE_SIZE_sp_isp_pool 4
 
-/* function ia_css_rmgr_sp_rel_gen: 6247 */
+/* function ia_css_rmgr_sp_rel_gen: 6211 */
 
 /* function css_get_frame_processing_time_end: 1FA7 */
 
@@ -1346,15 +1350,15 @@
 #define HIVE_ADDR_sp_event_any_pending_mask 0x300
 #define HIVE_SIZE_sp_event_any_pending_mask 8
 
-/* function ia_css_isys_sp_backend_push: 5A4C */
+/* function ia_css_isys_sp_backend_push: 5A16 */
 
 /* function sh_css_decode_tag_descr: 352 */
 
 /* function debug_enqueue_isp: 27B */
 
-/* function qos_scheduler_update_stage_budget: 65E5 */
+/* function qos_scheduler_update_stage_budget: 65AF */
 
-/* function ia_css_spctrl_sp_uninit: 5987 */
+/* function ia_css_spctrl_sp_uninit: 5951 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SWITCH_CODE
@@ -1380,7 +1384,7 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_dis_bufs 0x5908
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_dis_bufs 140
 
-/* function ia_css_tagger_buf_sp_lock_from_start: 2A5D */
+/* function ia_css_tagger_buf_sp_lock_from_start: 2AD9 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_isp_idle
@@ -1394,11 +1398,11 @@
 #define HIVE_ADDR_sp_sem_for_isp_idle 0x47B4
 #define HIVE_SIZE_sp_sem_for_isp_idle 20
 
-/* function ia_css_dmaproxy_sp_write_byte_addr: 316A */
+/* function ia_css_dmaproxy_sp_write_byte_addr: 31E6 */
 
-/* function ia_css_dmaproxy_sp_init: 30E1 */
+/* function ia_css_dmaproxy_sp_init: 315D */
 
-/* function ia_css_bufq_sp_release_dynamic_buf_clock_tick: 2CE6 */
+/* function ia_css_bufq_sp_release_dynamic_buf_clock_tick: 2D62 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ISP_VAMEM_BASE
@@ -1436,11 +1440,11 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_exp_ids 0x5994
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_exp_ids 70
 
-/* function ia_css_queue_item_load: 4C75 */
+/* function ia_css_queue_item_load: 4D00 */
 
-/* function ia_css_spctrl_sp_get_state: 5972 */
+/* function ia_css_spctrl_sp_get_state: 593C */
 
-/* function ia_css_isys_sp_token_map_uninit: 605C */
+/* function ia_css_isys_sp_token_map_uninit: 6026 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_callout_sp_thread
@@ -1468,7 +1472,7 @@
 #define HIVE_ADDR_sp_SP_PMEM_BASE 0x0
 #define HIVE_SIZE_sp_SP_PMEM_BASE 4
 
-/* function ia_css_isys_sp_token_map_snd_acquire_req: 5FCC */
+/* function ia_css_isys_sp_token_map_snd_acquire_req: 5F96 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_isp_input_stream_format
@@ -1482,39 +1486,39 @@
 #define HIVE_ADDR_sp_sp_isp_input_stream_format 0x40F8
 #define HIVE_SIZE_sp_sp_isp_input_stream_format 20
 
-/* function __mod: 68DD */
+/* function __mod: 68A7 */
 
-/* function ia_css_dmaproxy_sp_init_dmem_channel: 31CB */
+/* function ia_css_dmaproxy_sp_init_dmem_channel: 3247 */
 
 /* function ia_css_thread_sp_join: CFF */
 
-/* function ia_css_dmaproxy_sp_add_command: 6F85 */
+/* function ia_css_dmaproxy_sp_add_command: 6F4F */
 
-/* function ia_css_sp_metadata_thread_func: 5826 */
+/* function ia_css_sp_metadata_thread_func: 57F0 */
 
-/* function __sp_event_proxy_func_critical: 69AB */
+/* function __sp_event_proxy_func_critical: 6975 */
 
-/* function ia_css_sp_metadata_wait: 5939 */
+/* function ia_css_sp_metadata_wait: 5903 */
 
 /* function ia_css_circbuf_peek_from_start: F08 */
 
-/* function ia_css_event_sp_encode: 34D6 */
+/* function ia_css_event_sp_encode: 3552 */
 
 /* function ia_css_thread_sp_run: D72 */
 
 /* function sp_isys_copy_func: 6F6 */
 
-/* function ia_css_isys_sp_backend_flush: 5AB5 */
+/* function ia_css_isys_sp_backend_flush: 5A7F */
 
-/* function ia_css_isys_sp_backend_frame_exists: 59D1 */
+/* function ia_css_isys_sp_backend_frame_exists: 599B */
 
-/* function ia_css_sp_isp_param_init_isp_memories: 46FE */
+/* function ia_css_sp_isp_param_init_isp_memories: 4789 */
 
 /* function register_isr: 8A9 */
 
 /* function irq_raise: C8 */
 
-/* function ia_css_dmaproxy_sp_mmu_invalidate: 30A8 */
+/* function ia_css_dmaproxy_sp_mmu_invalidate: 3124 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SRST_ADDRESS
@@ -1542,24 +1546,24 @@
 #define HIVE_ADDR_sp_ia_css_isys_sp_frontend_states 0x62C8
 #define HIVE_SIZE_sp_ia_css_isys_sp_frontend_states 12
 
-/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 6E54 */
+/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 6E1E */
 
-/* function ia_css_ispctrl_sp_done_ds: 371D */
+/* function ia_css_ispctrl_sp_done_ds: 3799 */
 
-/* function ia_css_sp_isp_param_get_mem_inits: 46D9 */
+/* function ia_css_sp_isp_param_get_mem_inits: 4764 */
 
 /* function ia_css_parambuf_sp_init_buffer_queues: 13D0 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_pfp_spref
 #define HIVE_MEM_vbuf_pfp_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_pfp_spref 0x2EC
+#define HIVE_ADDR_vbuf_pfp_spref 0x2F0
 #define HIVE_SIZE_vbuf_pfp_spref 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_pfp_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_pfp_spref 0x2EC
+#define HIVE_ADDR_sp_vbuf_pfp_spref 0x2F0
 #define HIVE_SIZE_sp_vbuf_pfp_spref 4
 
 /* function input_system_cfg: ABB */
@@ -1588,11 +1592,11 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_frames 0x59DC
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_frames 280
 
-/* function qos_scheduler_init_stage_budget: 661E */
+/* function qos_scheduler_init_stage_budget: 65E8 */
 
-/* function ia_css_isys_sp_backend_release: 5B2A */
+/* function ia_css_isys_sp_backend_release: 5AF4 */
 
-/* function ia_css_isys_sp_backend_destroy: 5B54 */
+/* function ia_css_isys_sp_backend_destroy: 5B1E */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_buffer_queue_handle
@@ -1606,19 +1610,19 @@
 #define HIVE_ADDR_sp_sp2host_buffer_queue_handle 0x5AF4
 #define HIVE_SIZE_sp_sp2host_buffer_queue_handle 96
 
-/* function ia_css_isys_sp_token_map_check_mipi_frame_size: 5F90 */
+/* function ia_css_isys_sp_token_map_check_mipi_frame_size: 5F5A */
 
-/* function ia_css_ispctrl_sp_init_isp_vars: 43F8 */
+/* function ia_css_ispctrl_sp_init_isp_vars: 4483 */
 
-/* function ia_css_isys_sp_frontend_has_empty_mipi_buffer_cb: 5BA6 */
+/* function ia_css_isys_sp_frontend_has_empty_mipi_buffer_cb: 5B70 */
 
 /* function sp_warning: 8DC */
 
-/* function ia_css_rmgr_sp_vbuf_enqueue: 633A */
+/* function ia_css_rmgr_sp_vbuf_enqueue: 6304 */
 
-/* function ia_css_tagger_sp_tag_exp_id: 2132 */
+/* function ia_css_tagger_sp_tag_exp_id: 2142 */
 
-/* function ia_css_dmaproxy_sp_write: 3181 */
+/* function ia_css_dmaproxy_sp_write: 31FD */
 
 /* function ia_css_parambuf_sp_release_in_param: 1250 */
 
@@ -1646,7 +1650,7 @@
 #define HIVE_ADDR_sp_sp_isp_addresses 0x5F44
 #define HIVE_SIZE_sp_sp_isp_addresses 172
 
-/* function ia_css_rmgr_sp_acq_gen: 625F */
+/* function ia_css_rmgr_sp_acq_gen: 6229 */
 
 /* function receiver_reg_load: AD0 */
 
@@ -1674,7 +1678,7 @@
 #define HIVE_ADDR_sp_host_sp_queues_initialized 0x410C
 #define HIVE_SIZE_sp_host_sp_queues_initialized 4
 
-/* function ia_css_queue_uninit: 4B41 */
+/* function ia_css_queue_uninit: 4BCC */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_ispctrl_sp_isp_started
@@ -1688,11 +1692,11 @@
 #define HIVE_ADDR_sp_ia_css_ispctrl_sp_isp_started 0x5BFC
 #define HIVE_SIZE_sp_ia_css_ispctrl_sp_isp_started 4
 
-/* function ia_css_bufq_sp_release_dynamic_buf: 2D52 */
+/* function ia_css_bufq_sp_release_dynamic_buf: 2DCE */
 
-/* function ia_css_dmaproxy_sp_set_height_exception: 3279 */
+/* function ia_css_dmaproxy_sp_set_height_exception: 32F5 */
 
-/* function ia_css_dmaproxy_sp_init_vmem_channel: 31FE */
+/* function ia_css_dmaproxy_sp_init_vmem_channel: 327A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_num_ready_threads
@@ -1706,18 +1710,18 @@
 #define HIVE_ADDR_sp_num_ready_threads 0x49E4
 #define HIVE_SIZE_sp_num_ready_threads 4
 
-/* function ia_css_dmaproxy_sp_write_byte_addr_mmio: 3153 */
+/* function ia_css_dmaproxy_sp_write_byte_addr_mmio: 31CF */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_spref
 #define HIVE_MEM_vbuf_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_spref 0x2E8
+#define HIVE_ADDR_vbuf_spref 0x2EC
 #define HIVE_SIZE_vbuf_spref 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_spref 0x2E8
+#define HIVE_ADDR_sp_vbuf_spref 0x2EC
 #define HIVE_SIZE_sp_vbuf_spref 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -1732,7 +1736,7 @@
 #define HIVE_ADDR_sp_sp_metadata_thread 0x4998
 #define HIVE_SIZE_sp_sp_metadata_thread 68
 
-/* function ia_css_queue_enqueue: 4A8B */
+/* function ia_css_queue_enqueue: 4B16 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_request
@@ -1746,7 +1750,7 @@
 #define HIVE_ADDR_sp_ia_css_flash_sp_request 0x4A98
 #define HIVE_SIZE_sp_ia_css_flash_sp_request 4
 
-/* function ia_css_dmaproxy_sp_vmem_write: 3124 */
+/* function ia_css_dmaproxy_sp_vmem_write: 31A0 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_tagger_frames
@@ -1760,7 +1764,7 @@
 #define HIVE_ADDR_sp_tagger_frames 0x49EC
 #define HIVE_SIZE_sp_tagger_frames 168
 
-/* function ia_css_isys_sp_token_map_snd_capture_req: 5FEE */
+/* function ia_css_isys_sp_token_map_snd_capture_req: 5FB8 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_reading_if
@@ -1778,9 +1782,9 @@
 
 /* function ia_css_pipeline_sp_start: 181E */
 
-/* function ia_css_sp_rawcopy_init: 5068 */
+/* function ia_css_sp_rawcopy_init: 50F3 */
 
-/* function tmr_clock_read: 65CC */
+/* function tmr_clock_read: 6596 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ISP_BAMEM_BASE
@@ -1794,7 +1798,7 @@
 #define HIVE_ADDR_sp_ISP_BAMEM_BASE 0x2F8
 #define HIVE_SIZE_sp_ISP_BAMEM_BASE 4
 
-/* function ia_css_isys_sp_frontend_rcv_capture_ack: 5C55 */
+/* function ia_css_isys_sp_frontend_rcv_capture_ack: 5C1F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_sems_for_sp2host_buf_queues
@@ -1838,9 +1842,9 @@
 #define HIVE_ADDR_sp_sem_for_str2mem 0x47EC
 #define HIVE_SIZE_sp_sem_for_str2mem 20
 
-/* function ia_css_tagger_buf_sp_is_marked_from_start: 2AC5 */
+/* function ia_css_tagger_buf_sp_is_marked_from_start: 2B41 */
 
-/* function ia_css_bufq_sp_acquire_dynamic_buf: 2F0A */
+/* function ia_css_bufq_sp_acquire_dynamic_buf: 2F86 */
 
 /* function ia_css_circbuf_destroy: 101D */
 
@@ -1856,13 +1860,15 @@
 #define HIVE_ADDR_sp_ISP_PMEM_BASE 0xC
 #define HIVE_SIZE_sp_ISP_PMEM_BASE 4
 
-/* function ia_css_sp_isp_param_mem_load: 466C */
+/* function ia_css_sp_isp_param_mem_load: 46F7 */
+
+/* function ia_css_tagger_buf_sp_pop_from_start: 292D */
 
-/* function __div: 6895 */
+/* function __div: 685F */
 
-/* function ia_css_isys_sp_frontend_create: 5E26 */
+/* function ia_css_isys_sp_frontend_create: 5DF0 */
 
-/* function ia_css_rmgr_sp_refcount_release_vbuf: 6359 */
+/* function ia_css_rmgr_sp_refcount_release_vbuf: 6323 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_in_use
@@ -1876,7 +1882,7 @@
 #define HIVE_ADDR_sp_ia_css_flash_sp_in_use 0x4A9C
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_use 4
 
-/* function ia_css_thread_sem_sp_wait: 6B78 */
+/* function ia_css_thread_sem_sp_wait: 6B42 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_sleep_mode
@@ -1890,7 +1896,7 @@
 #define HIVE_ADDR_sp_sp_sleep_mode 0x4110
 #define HIVE_SIZE_sp_sp_sleep_mode 4
 
-/* function ia_css_tagger_buf_sp_push: 29C0 */
+/* function ia_css_tagger_buf_sp_push: 2A3C */
 
 /* function mmu_invalidate_cache: D3 */
 
@@ -1906,7 +1912,7 @@
 #define HIVE_ADDR_sp_sp_max_cb_elems 0x148
 #define HIVE_SIZE_sp_sp_max_cb_elems 8
 
-/* function ia_css_queue_remote_init: 4B63 */
+/* function ia_css_queue_remote_init: 4BEE */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_stop_req
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/hive_isp_css_2401_system_csi2p_generated/ia_css_isp_params.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/hive_isp_css_2401_system_csi2p_generated/ia_css_isp_params.h
index 23c6b60..9680f4e 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/hive_isp_css_2401_system_csi2p_generated/ia_css_isp_params.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/hive_isp_css_2401_system_csi2p_generated/ia_css_isp_params.h
@@ -110,6 +110,8 @@ struct ia_css_memory_offsets {
 		struct ia_css_isp_parameter ctc;
 		struct ia_css_isp_parameter xnr;
 		struct ia_css_isp_parameter xnr3;
+		struct ia_css_isp_parameter get;
+		struct ia_css_isp_parameter put;
 	} dmem;
 	struct {
 		struct ia_css_isp_parameter anr2;
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/spmem_dump.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/spmem_dump.c
index b9032b2..f294038 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/spmem_dump.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_csi2p_system/spmem_dump.c
@@ -22,11 +22,11 @@
 
 #define _hrt_cell_load_program_sp(proc) _hrt_cell_load_program_embedded(proc, sp)
 
-/* function longjmp: 683F */
+/* function longjmp: 680D */
 
-/* function tmpmem_init_dmem: 658A */
+/* function tmpmem_init_dmem: 6558 */
 
-/* function ia_css_dmaproxy_sp_set_addr_B: 3BD4 */
+/* function ia_css_dmaproxy_sp_set_addr_B: 3C50 */
 
 /* function debug_buffer_set_ddr_addr: DD */
 
@@ -42,13 +42,13 @@
 #define HIVE_ADDR_sp_vbuf_mipi 0x7398
 #define HIVE_SIZE_sp_vbuf_mipi 12
 
-/* function ia_css_event_sp_decode: 3DC5 */
+/* function ia_css_event_sp_decode: 3E41 */
 
-/* function ia_css_queue_get_size: 5134 */
+/* function ia_css_queue_get_size: 51BF */
 
-/* function ia_css_queue_load: 5775 */
+/* function ia_css_queue_load: 5800 */
 
-/* function setjmp: 6848 */
+/* function setjmp: 6816 */
 
 /* function ia_css_pipeline_sp_sfi_get_current_frame: 27BF */
 
@@ -64,11 +64,11 @@
 #define HIVE_ADDR_sp_sem_for_sp2host_isys_event_queue 0x5760
 #define HIVE_SIZE_sp_sem_for_sp2host_isys_event_queue 20
 
-/* function ia_css_dmaproxy_sp_wait_for_ack: 6DDB */
+/* function ia_css_dmaproxy_sp_wait_for_ack: 6DA9 */
 
-/* function ia_css_sp_rawcopy_func: 58E0 */
+/* function ia_css_sp_rawcopy_func: 596B */
 
-/* function ia_css_tagger_buf_sp_pop_marked: 3284 */
+/* function ia_css_tagger_buf_sp_pop_marked: 3339 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_N_CSI_RX_BE_SID_WIDTH
@@ -97,18 +97,18 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_raw
 #define HIVE_MEM_vbuf_raw scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_raw 0x378
+#define HIVE_ADDR_vbuf_raw 0x37C
 #define HIVE_SIZE_vbuf_raw 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_raw scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_raw 0x378
+#define HIVE_ADDR_sp_vbuf_raw 0x37C
 #define HIVE_SIZE_sp_vbuf_raw 4
 
-/* function ia_css_sp_bin_copy_func: 58C1 */
+/* function ia_css_sp_bin_copy_func: 594C */
 
-/* function ia_css_queue_item_store: 54C3 */
+/* function ia_css_queue_item_store: 554E */
 
 /* function input_system_reset: 1286 */
 
@@ -164,7 +164,7 @@
 
 /* function ia_css_thread_sp_main: 13F7 */
 
-/* function ia_css_ispctrl_sp_init_internal_buffers: 3FCB */
+/* function ia_css_ispctrl_sp_init_internal_buffers: 4047 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_psys_event_queue_handle
@@ -192,7 +192,7 @@
 #define HIVE_ADDR_sp_sem_for_sp2host_psys_event_queue 0x5774
 #define HIVE_SIZE_sp_sem_for_sp2host_psys_event_queue 20
 
-/* function ia_css_tagger_sp_propagate_frame: 2D24 */
+/* function ia_css_tagger_sp_propagate_frame: 2D52 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_stop_copy_preview
@@ -218,17 +218,17 @@
 #define HIVE_ADDR_sp_vbuf_handles 0x73A4
 #define HIVE_SIZE_sp_vbuf_handles 960
 
-/* function ia_css_queue_store: 5629 */
+/* function ia_css_queue_store: 56B4 */
 
-/* function ia_css_sp_flash_register: 34F2 */
+/* function ia_css_sp_flash_register: 356E */
 
-/* function ia_css_sp_rawcopy_dummy_function: 5D29 */
+/* function ia_css_sp_rawcopy_dummy_function: 5CF7 */
 
 /* function ia_css_pipeline_sp_init: 201C */
 
-/* function ia_css_tagger_sp_configure: 2C14 */
+/* function ia_css_tagger_sp_configure: 2C42 */
 
-/* function ia_css_ispctrl_sp_end_binary: 3E0E */
+/* function ia_css_ispctrl_sp_end_binary: 3E8A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs
@@ -292,7 +292,7 @@
 #define HIVE_ADDR_sp_host_sp_com 0x3E48
 #define HIVE_SIZE_sp_host_sp_com 220
 
-/* function ia_css_queue_get_free_space: 5288 */
+/* function ia_css_queue_get_free_space: 5313 */
 
 /* function exec_image_pipe: 5E6 */
 
@@ -308,19 +308,19 @@
 #define HIVE_ADDR_sp_sp_init_dmem_data 0x7348
 #define HIVE_SIZE_sp_sp_init_dmem_data 24
 
-/* function ia_css_sp_metadata_start: 5E03 */
+/* function ia_css_sp_metadata_start: 5DD1 */
 
-/* function ia_css_bufq_sp_init_buffer_queues: 3543 */
+/* function ia_css_bufq_sp_init_buffer_queues: 35BF */
 
 /* function ia_css_pipeline_sp_stop: 1FFF */
 
-/* function ia_css_tagger_sp_connect_pipes: 30ED */
+/* function ia_css_tagger_sp_connect_pipes: 312C */
 
 /* function sp_isys_copy_wait: 644 */
 
 /* function is_isp_debug_buffer_full: 337 */
 
-/* function ia_css_dmaproxy_sp_configure_channel_from_info: 3B57 */
+/* function ia_css_dmaproxy_sp_configure_channel_from_info: 3BD3 */
 
 /* function encode_and_post_timer_event: AA8 */
 
@@ -360,7 +360,7 @@
 #define HIVE_ADDR_sp_sp_per_frame_data 0x3F24
 #define HIVE_SIZE_sp_sp_per_frame_data 4
 
-/* function ia_css_rmgr_sp_vbuf_dequeue: 62DE */
+/* function ia_css_rmgr_sp_vbuf_dequeue: 62AC */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_psys_event_queue_handle
@@ -390,7 +390,7 @@
 
 /* function ia_css_pipeline_sp_run: 1ABF */
 
-/* function memcpy: 68E8 */
+/* function memcpy: 68B6 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_N_ISYS2401_DMA_CHANNEL_PROCS
@@ -430,11 +430,11 @@
 
 /* function stream2mmio_send_command: E0A */
 
-/* function ia_css_uds_sp_scale_params: 65F1 */
+/* function ia_css_uds_sp_scale_params: 65BF */
 
 /* function ia_css_circbuf_increase_size: 14DC */
 
-/* function __divu: 6866 */
+/* function __divu: 6834 */
 
 /* function ia_css_thread_sp_get_state: 131F */
 
@@ -478,9 +478,9 @@
 
 /* function ia_css_parambuf_sp_handle_parameter_sets: 193F */
 
-/* function ia_css_spctrl_sp_set_state: 5E1F */
+/* function ia_css_spctrl_sp_set_state: 5DED */
 
-/* function ia_css_thread_sem_sp_signal: 6ACB */
+/* function ia_css_thread_sem_sp_signal: 6A99 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_IRQ_BASE
@@ -494,7 +494,7 @@
 #define HIVE_ADDR_sp_IRQ_BASE 0x2C
 #define HIVE_SIZE_sp_IRQ_BASE 16
 
-/* function ia_css_virtual_isys_sp_isr_init: 5EBE */
+/* function ia_css_virtual_isys_sp_isr_init: 5E8C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_TIMED_CTRL_BASE
@@ -508,11 +508,11 @@
 #define HIVE_ADDR_sp_TIMED_CTRL_BASE 0x40
 #define HIVE_SIZE_sp_TIMED_CTRL_BASE 4
 
-/* function ia_css_isys_sp_generate_exp_id: 616E */
+/* function ia_css_isys_sp_generate_exp_id: 613C */
 
-/* function ia_css_rmgr_sp_init: 61D9 */
+/* function ia_css_rmgr_sp_init: 61A7 */
 
-/* function ia_css_thread_sem_sp_init: 6B9C */
+/* function ia_css_thread_sem_sp_init: 6B6A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_is_isp_requested
@@ -538,17 +538,17 @@
 #define HIVE_ADDR_sp_sem_for_reading_cb_frame 0x57AC
 #define HIVE_SIZE_sp_sem_for_reading_cb_frame 40
 
-/* function ia_css_dmaproxy_sp_execute: 3ABF */
+/* function ia_css_dmaproxy_sp_execute: 3B3B */
 
 /* function csi_rx_backend_rst: CE6 */
 
-/* function ia_css_queue_is_empty: 516F */
+/* function ia_css_queue_is_empty: 51FA */
 
 /* function ia_css_pipeline_sp_has_stopped: 1FF5 */
 
 /* function ia_css_circbuf_extract: 15E0 */
 
-/* function ia_css_tagger_buf_sp_is_locked_from_start: 33D3 */
+/* function ia_css_tagger_buf_sp_is_locked_from_start: 344F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_current_sp_thread
@@ -562,13 +562,13 @@
 #define HIVE_ADDR_sp_current_sp_thread 0x274
 #define HIVE_SIZE_sp_current_sp_thread 4
 
-/* function ia_css_spctrl_sp_get_spid: 5E26 */
+/* function ia_css_spctrl_sp_get_spid: 5DF4 */
 
-/* function ia_css_bufq_sp_reset_buffers: 35CA */
+/* function ia_css_bufq_sp_reset_buffers: 3646 */
 
-/* function ia_css_dmaproxy_sp_read_byte_addr: 6E09 */
+/* function ia_css_dmaproxy_sp_read_byte_addr: 6DD7 */
 
-/* function ia_css_rmgr_sp_uninit: 61D2 */
+/* function ia_css_rmgr_sp_uninit: 61A0 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_stack
@@ -648,7 +648,7 @@
 #define HIVE_ADDR_sp_sem_for_reading_cb_param 0x57EC
 #define HIVE_SIZE_sp_sem_for_reading_cb_param 40
 
-/* function ia_css_queue_get_used_space: 523C */
+/* function ia_css_queue_get_used_space: 52C7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_cont_capt_start
@@ -674,11 +674,11 @@
 #define HIVE_ADDR_sp_tmp_heap 0x70A8
 #define HIVE_SIZE_sp_tmp_heap 640
 
-/* function ia_css_rmgr_sp_get_num_vbuf: 64E2 */
+/* function ia_css_rmgr_sp_get_num_vbuf: 64B0 */
 
-/* function ia_css_ispctrl_sp_output_compute_dma_info: 47E5 */
+/* function ia_css_ispctrl_sp_output_compute_dma_info: 4863 */
 
-/* function ia_css_tagger_sp_lock_exp_id: 29FF */
+/* function ia_css_tagger_sp_lock_exp_id: 2A0F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_s3a_bufs
@@ -692,7 +692,7 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 0x5C24
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 60
 
-/* function ia_css_queue_is_full: 52D3 */
+/* function ia_css_queue_is_full: 535E */
 
 /* function debug_buffer_init_isp: E4 */
 
@@ -710,7 +710,7 @@
 #define HIVE_ADDR_sp_ia_css_rmgr_sp_mipi_frame_sem 0x7764
 #define HIVE_SIZE_sp_ia_css_rmgr_sp_mipi_frame_sem 60
 
-/* function ia_css_rmgr_sp_refcount_dump: 62B9 */
+/* function ia_css_rmgr_sp_refcount_dump: 6287 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_isp_parameters_id
@@ -752,7 +752,7 @@
 #define HIVE_ADDR_sp_host2sp_isys_event_queue_handle 0x5C74
 #define HIVE_SIZE_sp_host2sp_isys_event_queue_handle 12
 
-/* function ia_css_thread_sp_yield: 6A44 */
+/* function ia_css_thread_sp_yield: 6A12 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param_desc
@@ -780,9 +780,9 @@
 
 /* function ia_css_thread_sp_fork: 13AC */
 
-/* function ia_css_tagger_sp_destroy: 30F7 */
+/* function ia_css_tagger_sp_destroy: 3136 */
 
-/* function ia_css_dmaproxy_sp_vmem_read: 3A5F */
+/* function ia_css_dmaproxy_sp_vmem_read: 3ADB */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_N_LONG_PACKET_LUT_ENTRIES
@@ -798,13 +798,15 @@
 
 /* function initialize_sp_group: 5F6 */
 
+/* function ia_css_tagger_buf_sp_peek: 325B */
+
 /* function ia_css_thread_sp_init: 13D8 */
 
-/* function ia_css_isys_sp_reset_exp_id: 6165 */
+/* function ia_css_isys_sp_reset_exp_id: 6133 */
 
-/* function qos_scheduler_update_fps: 65E1 */
+/* function qos_scheduler_update_fps: 65AF */
 
-/* function ia_css_ispctrl_sp_set_stream_base_addr: 4EAD */
+/* function ia_css_ispctrl_sp_set_stream_base_addr: 4F38 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ISP_DMEM_BASE
@@ -832,20 +834,20 @@
 
 /* function ibuf_ctrl_transfer: D67 */
 
-/* function ia_css_dmaproxy_sp_read: 3AD5 */
+/* function ia_css_dmaproxy_sp_read: 3B51 */
 
-/* function virtual_isys_stream_is_capture_done: 5EE2 */
+/* function virtual_isys_stream_is_capture_done: 5EB0 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_raw_copy_line_count
 #define HIVE_MEM_raw_copy_line_count scalar_processor_2400_dmem
-#define HIVE_ADDR_raw_copy_line_count 0x35C
+#define HIVE_ADDR_raw_copy_line_count 0x360
 #define HIVE_SIZE_raw_copy_line_count 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_raw_copy_line_count scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_raw_copy_line_count 0x35C
+#define HIVE_ADDR_sp_raw_copy_line_count 0x360
 #define HIVE_SIZE_sp_raw_copy_line_count 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -860,7 +862,7 @@
 #define HIVE_ADDR_sp_host2sp_tag_cmd_queue_handle 0x5C80
 #define HIVE_SIZE_sp_host2sp_tag_cmd_queue_handle 12
 
-/* function ia_css_queue_peek: 51B2 */
+/* function ia_css_queue_peek: 523D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_frame_cnt
@@ -904,6 +906,8 @@
 
 /* function is_ddr_debug_buffer_full: 2CC */
 
+/* function ia_css_tagger_buf_sp_get_oldest_marked_offset: 32AB */
+
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_fiber
 #define HIVE_MEM_sp_threads_fiber scalar_processor_2400_dmem
@@ -920,9 +924,9 @@
 
 /* function debug_enqueue_ddr: EE */
 
-/* function ia_css_rmgr_sp_refcount_init_vbuf: 6274 */
+/* function ia_css_rmgr_sp_refcount_init_vbuf: 6242 */
 
-/* function dmaproxy_sp_read_write: 6EB8 */
+/* function dmaproxy_sp_read_write: 6E86 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_dmaproxy_isp_dma_cmd_buffer
@@ -960,13 +964,13 @@
 #define HIVE_ADDR_sp_ia_css_flash_sp_in_service 0x3054
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_service 4
 
-/* function ia_css_dmaproxy_sp_process: 6BC4 */
+/* function ia_css_dmaproxy_sp_process: 6B92 */
 
-/* function ia_css_tagger_buf_sp_mark_from_end: 34B7 */
+/* function ia_css_tagger_buf_sp_mark_from_end: 3533 */
 
-/* function ia_css_ispctrl_sp_init_cs: 3EFB */
+/* function ia_css_ispctrl_sp_init_cs: 3F77 */
 
-/* function ia_css_spctrl_sp_init: 5E34 */
+/* function ia_css_spctrl_sp_init: 5E02 */
 
 /* function sp_event_proxy_init: 7A2 */
 
@@ -1034,9 +1038,9 @@
 #define HIVE_ADDR_sp_INPUT_FORMATTER_BASE 0x4C
 #define HIVE_SIZE_sp_INPUT_FORMATTER_BASE 16
 
-/* function sp_dma_proxy_reset_channels: 3D2F */
+/* function sp_dma_proxy_reset_channels: 3DAB */
 
-/* function ia_css_tagger_sp_update_size: 31EB */
+/* function ia_css_tagger_sp_update_size: 322A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_host_sp_queue
@@ -1052,7 +1056,7 @@
 
 /* function thread_fiber_sp_create: 1444 */
 
-/* function ia_css_dmaproxy_sp_set_increments: 3BC1 */
+/* function ia_css_dmaproxy_sp_set_increments: 3C3D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_writing_cb_frame
@@ -1080,7 +1084,7 @@
 
 /* function pixelgen_tpg_is_done: F0D */
 
-/* function ia_css_isys_stream_capture_indication: 5FE8 */
+/* function ia_css_isys_stream_capture_indication: 5FB6 */
 
 /* function sp_start_isp_entry: 392 */
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -1090,23 +1094,23 @@
 #endif
 #define HIVE_ADDR_sp_sp_start_isp_entry 0x392
 
-/* function ia_css_tagger_buf_sp_unmark_all: 343B */
+/* function ia_css_tagger_buf_sp_unmark_all: 34B7 */
 
-/* function ia_css_tagger_buf_sp_unmark_from_start: 347C */
+/* function ia_css_tagger_buf_sp_unmark_from_start: 34F8 */
 
-/* function ia_css_dmaproxy_sp_channel_acquire: 3D5B */
+/* function ia_css_dmaproxy_sp_channel_acquire: 3DD7 */
 
-/* function ia_css_rmgr_sp_add_num_vbuf: 64BE */
+/* function ia_css_rmgr_sp_add_num_vbuf: 648C */
 
 /* function ibuf_ctrl_config: D8B */
 
-/* function ia_css_isys_stream_stop: 6060 */
+/* function ia_css_isys_stream_stop: 602E */
 
-/* function __ia_css_dmaproxy_sp_wait_for_ack_text: 3A2B */
+/* function __ia_css_dmaproxy_sp_wait_for_ack_text: 3AA7 */
 
 /* function ia_css_tagger_sp_acquire_buf_elem: 291D */
 
-/* function ia_css_bufq_sp_is_dynamic_buffer: 3914 */
+/* function ia_css_bufq_sp_is_dynamic_buffer: 3990 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_group
@@ -1134,9 +1138,9 @@
 
 /* function ia_css_thread_sp_kill: 1372 */
 
-/* function ia_css_tagger_sp_create: 31A5 */
+/* function ia_css_tagger_sp_create: 31E4 */
 
-/* function tmpmem_acquire_dmem: 656B */
+/* function tmpmem_acquire_dmem: 6539 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_MMU_BASE
@@ -1150,11 +1154,11 @@
 #define HIVE_ADDR_sp_MMU_BASE 0x24
 #define HIVE_SIZE_sp_MMU_BASE 8
 
-/* function ia_css_dmaproxy_sp_channel_release: 3D47 */
+/* function ia_css_dmaproxy_sp_channel_release: 3DC3 */
 
 /* function pixelgen_prbs_run: E81 */
 
-/* function ia_css_dmaproxy_sp_is_idle: 3D27 */
+/* function ia_css_dmaproxy_sp_is_idle: 3DA3 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_qos_start
@@ -1172,9 +1176,9 @@
 
 /* function ia_css_tagger_sp_release_buf_elem: 28F9 */
 
-/* function ia_css_eventq_sp_send: 3D9D */
+/* function ia_css_eventq_sp_send: 3E19 */
 
-/* function ia_css_tagger_buf_sp_unlock_from_start: 336B */
+/* function ia_css_tagger_buf_sp_unlock_from_start: 33E7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_debug_buffer_ddr_address
@@ -1190,7 +1194,7 @@
 
 /* function sp_isys_copy_request: 6ED */
 
-/* function ia_css_rmgr_sp_refcount_retain_vbuf: 634E */
+/* function ia_css_rmgr_sp_refcount_retain_vbuf: 631C */
 
 /* function ia_css_thread_sp_set_priority: 136A */
 
@@ -1200,19 +1204,19 @@
 
 /* function pixelgen_tpg_stop: EFB */
 
-/* function tmpmem_release_dmem: 655A */
+/* function tmpmem_release_dmem: 6528 */
 
-/* function ia_css_dmaproxy_sp_set_width_exception: 3BAC */
+/* function ia_css_dmaproxy_sp_set_width_exception: 3C28 */
 
 /* function sp_event_assert: 929 */
 
-/* function ia_css_flash_sp_init_internal_params: 3538 */
+/* function ia_css_flash_sp_init_internal_params: 35B4 */
 
-/* function ia_css_tagger_buf_sp_pop_unmarked_and_unlocked: 321C */
+/* function ia_css_tagger_buf_sp_pop_unmarked_and_unlocked: 32ED */
 
-/* function __modu: 68AC */
+/* function __modu: 687A */
 
-/* function ia_css_dmaproxy_sp_init_isp_vector: 3A31 */
+/* function ia_css_dmaproxy_sp_init_isp_vector: 3AAD */
 
 /* function input_system_channel_transfer: 122A */
 
@@ -1230,11 +1234,11 @@
 #define HIVE_ADDR_sp_GDC_BASE 0x44
 #define HIVE_SIZE_sp_GDC_BASE 8
 
-/* function ia_css_queue_local_init: 549D */
+/* function ia_css_queue_local_init: 5528 */
 
-/* function sp_event_proxy_callout_func: 6979 */
+/* function sp_event_proxy_callout_func: 6947 */
 
-/* function qos_scheduler_schedule_stage: 65B2 */
+/* function qos_scheduler_schedule_stage: 6580 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_thread_sp_num_ready_threads
@@ -1260,13 +1264,13 @@
 #define HIVE_ADDR_sp_sp_threads_stack_size 0x17C
 #define HIVE_SIZE_sp_sp_threads_stack_size 24
 
-/* function ia_css_ispctrl_sp_isp_done_row_striping: 47CB */
+/* function ia_css_ispctrl_sp_isp_done_row_striping: 4849 */
 
-/* function __ia_css_virtual_isys_sp_isr_text: 5E77 */
+/* function __ia_css_virtual_isys_sp_isr_text: 5E45 */
 
-/* function ia_css_queue_dequeue: 531B */
+/* function ia_css_queue_dequeue: 53A6 */
 
-/* function ia_css_dmaproxy_sp_configure_channel: 6E20 */
+/* function ia_css_dmaproxy_sp_configure_channel: 6DEE */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_current_thread_fiber_sp
@@ -1282,7 +1286,7 @@
 
 /* function ia_css_circbuf_pop: 1674 */
 
-/* function memset: 692B */
+/* function memset: 68F9 */
 
 /* function irq_raise_set_token: B6 */
 
@@ -1316,9 +1320,9 @@
 #define HIVE_ADDR_sp_isp_ph 0x7360
 #define HIVE_SIZE_sp_isp_ph 28
 
-/* function ia_css_ispctrl_sp_init_ds: 405A */
+/* function ia_css_ispctrl_sp_init_ds: 40D6 */
 
-/* function get_xmem_base_addr_raw: 43FB */
+/* function get_xmem_base_addr_raw: 4479 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param
@@ -1350,21 +1354,21 @@
 
 /* function csi_rx_frontend_run: C22 */
 
-/* function ia_css_framebuf_sp_wait_for_in_frame: 64E9 */
+/* function ia_css_framebuf_sp_wait_for_in_frame: 64B7 */
 
-/* function ia_css_isys_stream_open: 6115 */
+/* function ia_css_isys_stream_open: 60E3 */
 
-/* function ia_css_sp_rawcopy_tag_frame: 5CA3 */
+/* function ia_css_sp_rawcopy_tag_frame: 5C71 */
 
 /* function input_system_channel_configure: 125D */
 
 /* function isp_hmem_clear: B33 */
 
-/* function ia_css_framebuf_sp_release_in_frame: 652C */
+/* function ia_css_framebuf_sp_release_in_frame: 64FA */
 
 /* function stream2mmio_config: E1B */
 
-/* function ia_css_ispctrl_sp_start_binary: 3ED9 */
+/* function ia_css_ispctrl_sp_start_binary: 3F55 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_h_pipe_private_ddr_ptrs
@@ -1378,23 +1382,23 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 0x698C
 #define HIVE_SIZE_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 20
 
-/* function ia_css_eventq_sp_recv: 3D6F */
+/* function ia_css_eventq_sp_recv: 3DEB */
 
 /* function csi_rx_frontend_config: C7A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_pool
 #define HIVE_MEM_isp_pool scalar_processor_2400_dmem
-#define HIVE_ADDR_isp_pool 0x36C
+#define HIVE_ADDR_isp_pool 0x370
 #define HIVE_SIZE_isp_pool 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isp_pool scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_pool 0x36C
+#define HIVE_ADDR_sp_isp_pool 0x370
 #define HIVE_SIZE_sp_isp_pool 4
 
-/* function ia_css_rmgr_sp_rel_gen: 621B */
+/* function ia_css_rmgr_sp_rel_gen: 61E9 */
 
 /* function css_get_frame_processing_time_end: 28E9 */
 
@@ -1416,9 +1420,9 @@
 
 /* function debug_enqueue_isp: 27B */
 
-/* function qos_scheduler_update_stage_budget: 65A0 */
+/* function qos_scheduler_update_stage_budget: 656E */
 
-/* function ia_css_spctrl_sp_uninit: 5E2D */
+/* function ia_css_spctrl_sp_uninit: 5DFB */
 
 /* function csi_rx_backend_run: C68 */
 
@@ -1434,7 +1438,7 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_dis_bufs 0x69A0
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_dis_bufs 140
 
-/* function ia_css_tagger_buf_sp_lock_from_start: 339F */
+/* function ia_css_tagger_buf_sp_lock_from_start: 341B */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_isp_idle
@@ -1448,11 +1452,11 @@
 #define HIVE_ADDR_sp_sem_for_isp_idle 0x5890
 #define HIVE_SIZE_sp_sem_for_isp_idle 20
 
-/* function ia_css_dmaproxy_sp_write_byte_addr: 3A8E */
+/* function ia_css_dmaproxy_sp_write_byte_addr: 3B0A */
 
-/* function ia_css_dmaproxy_sp_init: 3A05 */
+/* function ia_css_dmaproxy_sp_init: 3A81 */
 
-/* function ia_css_bufq_sp_release_dynamic_buf_clock_tick: 360A */
+/* function ia_css_bufq_sp_release_dynamic_buf_clock_tick: 3686 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ISP_VAMEM_BASE
@@ -1492,9 +1496,9 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_exp_ids 0x6A2C
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_exp_ids 70
 
-/* function ia_css_queue_item_load: 558F */
+/* function ia_css_queue_item_load: 561A */
 
-/* function ia_css_spctrl_sp_get_state: 5E18 */
+/* function ia_css_spctrl_sp_get_state: 5DE6 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_callout_sp_thread
@@ -1534,37 +1538,37 @@
 #define HIVE_ADDR_sp_sp_isp_input_stream_format 0x3E2C
 #define HIVE_SIZE_sp_sp_isp_input_stream_format 20
 
-/* function __mod: 6898 */
+/* function __mod: 6866 */
 
-/* function ia_css_dmaproxy_sp_init_dmem_channel: 3AEF */
+/* function ia_css_dmaproxy_sp_init_dmem_channel: 3B6B */
 
 /* function ia_css_thread_sp_join: 139B */
 
-/* function ia_css_dmaproxy_sp_add_command: 6F23 */
+/* function ia_css_dmaproxy_sp_add_command: 6EF1 */
 
-/* function ia_css_sp_metadata_thread_func: 5E11 */
+/* function ia_css_sp_metadata_thread_func: 5DDF */
 
-/* function __sp_event_proxy_func_critical: 6966 */
+/* function __sp_event_proxy_func_critical: 6934 */
 
-/* function ia_css_pipeline_sp_wait_for_isys_stream_N: 5F85 */
+/* function ia_css_pipeline_sp_wait_for_isys_stream_N: 5F53 */
 
-/* function ia_css_sp_metadata_wait: 5E0A */
+/* function ia_css_sp_metadata_wait: 5DD8 */
 
 /* function ia_css_circbuf_peek_from_start: 15A4 */
 
-/* function ia_css_event_sp_encode: 3DFA */
+/* function ia_css_event_sp_encode: 3E76 */
 
 /* function ia_css_thread_sp_run: 140E */
 
 /* function sp_isys_copy_func: 618 */
 
-/* function ia_css_sp_isp_param_init_isp_memories: 5018 */
+/* function ia_css_sp_isp_param_init_isp_memories: 50A3 */
 
 /* function register_isr: 921 */
 
 /* function irq_raise: C8 */
 
-/* function ia_css_dmaproxy_sp_mmu_invalidate: 39CC */
+/* function ia_css_dmaproxy_sp_mmu_invalidate: 3A48 */
 
 /* function csi_rx_backend_disable: C34 */
 
@@ -1582,26 +1586,26 @@
 #define HIVE_ADDR_sp_N_CSI_RX_FE_CTRL_DLANES 0x1C4
 #define HIVE_SIZE_sp_N_CSI_RX_FE_CTRL_DLANES 12
 
-/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 6DF2 */
+/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 6DC0 */
 
-/* function ia_css_ispctrl_sp_done_ds: 4041 */
+/* function ia_css_ispctrl_sp_done_ds: 40BD */
 
 /* function csi_rx_backend_config: C8B */
 
-/* function ia_css_sp_isp_param_get_mem_inits: 4FF3 */
+/* function ia_css_sp_isp_param_get_mem_inits: 507E */
 
 /* function ia_css_parambuf_sp_init_buffer_queues: 1A85 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_pfp_spref
 #define HIVE_MEM_vbuf_pfp_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_pfp_spref 0x374
+#define HIVE_ADDR_vbuf_pfp_spref 0x378
 #define HIVE_SIZE_vbuf_pfp_spref 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_pfp_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_pfp_spref 0x374
+#define HIVE_ADDR_sp_vbuf_pfp_spref 0x378
 #define HIVE_SIZE_sp_vbuf_pfp_spref 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -1628,7 +1632,7 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_frames 0x6A74
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_frames 280
 
-/* function qos_scheduler_init_stage_budget: 65D9 */
+/* function qos_scheduler_init_stage_budget: 65A7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_buffer_queue_handle
@@ -1642,21 +1646,21 @@
 #define HIVE_ADDR_sp_sp2host_buffer_queue_handle 0x6B8C
 #define HIVE_SIZE_sp_sp2host_buffer_queue_handle 96
 
-/* function ia_css_ispctrl_sp_init_isp_vars: 4D12 */
+/* function ia_css_ispctrl_sp_init_isp_vars: 4D9D */
 
-/* function ia_css_isys_stream_start: 6042 */
+/* function ia_css_isys_stream_start: 6010 */
 
 /* function sp_warning: 954 */
 
-/* function ia_css_rmgr_sp_vbuf_enqueue: 630E */
+/* function ia_css_rmgr_sp_vbuf_enqueue: 62DC */
 
-/* function ia_css_tagger_sp_tag_exp_id: 2A74 */
+/* function ia_css_tagger_sp_tag_exp_id: 2A84 */
 
 /* function ia_css_pipeline_sp_sfi_release_current_frame: 276B */
 
-/* function ia_css_dmaproxy_sp_write: 3AA5 */
+/* function ia_css_dmaproxy_sp_write: 3B21 */
 
-/* function ia_css_isys_stream_start_async: 60BC */
+/* function ia_css_isys_stream_start_async: 608A */
 
 /* function ia_css_parambuf_sp_release_in_param: 1905 */
 
@@ -1684,7 +1688,7 @@
 #define HIVE_ADDR_sp_sp_isp_addresses 0x6FDC
 #define HIVE_SIZE_sp_sp_isp_addresses 172
 
-/* function ia_css_rmgr_sp_acq_gen: 6233 */
+/* function ia_css_rmgr_sp_acq_gen: 6201 */
 
 /* function input_system_input_port_open: 10ED */
 
@@ -1712,7 +1716,7 @@
 #define HIVE_ADDR_sp_host_sp_queues_initialized 0x3E40
 #define HIVE_SIZE_sp_host_sp_queues_initialized 4
 
-/* function ia_css_queue_uninit: 545B */
+/* function ia_css_queue_uninit: 54E6 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_ispctrl_sp_isp_started
@@ -1726,11 +1730,11 @@
 #define HIVE_ADDR_sp_ia_css_ispctrl_sp_isp_started 0x6C94
 #define HIVE_SIZE_sp_ia_css_ispctrl_sp_isp_started 4
 
-/* function ia_css_bufq_sp_release_dynamic_buf: 3676 */
+/* function ia_css_bufq_sp_release_dynamic_buf: 36F2 */
 
-/* function ia_css_dmaproxy_sp_set_height_exception: 3B9D */
+/* function ia_css_dmaproxy_sp_set_height_exception: 3C19 */
 
-/* function ia_css_dmaproxy_sp_init_vmem_channel: 3B22 */
+/* function ia_css_dmaproxy_sp_init_vmem_channel: 3B9E */
 
 /* function csi_rx_backend_stop: C57 */
 
@@ -1746,21 +1750,21 @@
 #define HIVE_ADDR_sp_num_ready_threads 0x5A7C
 #define HIVE_SIZE_sp_num_ready_threads 4
 
-/* function ia_css_dmaproxy_sp_write_byte_addr_mmio: 3A77 */
+/* function ia_css_dmaproxy_sp_write_byte_addr_mmio: 3AF3 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_spref
 #define HIVE_MEM_vbuf_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_spref 0x370
+#define HIVE_ADDR_vbuf_spref 0x374
 #define HIVE_SIZE_vbuf_spref 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_spref 0x370
+#define HIVE_ADDR_sp_vbuf_spref 0x374
 #define HIVE_SIZE_sp_vbuf_spref 4
 
-/* function ia_css_queue_enqueue: 53A5 */
+/* function ia_css_queue_enqueue: 5430 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_request
@@ -1774,7 +1778,7 @@
 #define HIVE_ADDR_sp_ia_css_flash_sp_request 0x5B30
 #define HIVE_SIZE_sp_ia_css_flash_sp_request 4
 
-/* function ia_css_dmaproxy_sp_vmem_write: 3A48 */
+/* function ia_css_dmaproxy_sp_vmem_write: 3AC4 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_tagger_frames
@@ -1806,7 +1810,7 @@
 
 /* function csi_rx_backend_enable: C45 */
 
-/* function ia_css_sp_rawcopy_init: 58C8 */
+/* function ia_css_sp_rawcopy_init: 5953 */
 
 /* function input_system_input_port_configure: 113F */
 
@@ -1864,7 +1868,7 @@
 #define HIVE_ADDR_sp_sp_all_cbs_frame 0x58B8
 #define HIVE_SIZE_sp_sp_all_cbs_frame 16
 
-/* function ia_css_virtual_isys_sp_isr: 6F39 */
+/* function ia_css_virtual_isys_sp_isr: 6F07 */
 
 /* function thread_sp_queue_print: 142B */
 
@@ -1882,9 +1886,9 @@
 #define HIVE_ADDR_sp_sem_for_str2mem 0x58C8
 #define HIVE_SIZE_sp_sem_for_str2mem 20
 
-/* function ia_css_tagger_buf_sp_is_marked_from_start: 3407 */
+/* function ia_css_tagger_buf_sp_is_marked_from_start: 3483 */
 
-/* function ia_css_bufq_sp_acquire_dynamic_buf: 382E */
+/* function ia_css_bufq_sp_acquire_dynamic_buf: 38AA */
 
 /* function ia_css_pipeline_sp_sfi_mode_is_enabled: 28BF */
 
@@ -1902,11 +1906,13 @@
 #define HIVE_ADDR_sp_ISP_PMEM_BASE 0xC
 #define HIVE_SIZE_sp_ISP_PMEM_BASE 4
 
-/* function ia_css_sp_isp_param_mem_load: 4F86 */
+/* function ia_css_sp_isp_param_mem_load: 5011 */
+
+/* function ia_css_tagger_buf_sp_pop_from_start: 326F */
 
-/* function __div: 6850 */
+/* function __div: 681E */
 
-/* function ia_css_rmgr_sp_refcount_release_vbuf: 632D */
+/* function ia_css_rmgr_sp_refcount_release_vbuf: 62FB */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_in_use
@@ -1920,7 +1926,7 @@
 #define HIVE_ADDR_sp_ia_css_flash_sp_in_use 0x5B34
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_use 4
 
-/* function ia_css_thread_sem_sp_wait: 6B16 */
+/* function ia_css_thread_sem_sp_wait: 6AE4 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_sleep_mode
@@ -1934,7 +1940,7 @@
 #define HIVE_ADDR_sp_sp_sleep_mode 0x3E44
 #define HIVE_SIZE_sp_sp_sleep_mode 4
 
-/* function ia_css_tagger_buf_sp_push: 3302 */
+/* function ia_css_tagger_buf_sp_push: 337E */
 
 /* function mmu_invalidate_cache: D3 */
 
@@ -1950,7 +1956,7 @@
 #define HIVE_ADDR_sp_sp_max_cb_elems 0x148
 #define HIVE_SIZE_sp_sp_max_cb_elems 8
 
-/* function ia_css_queue_remote_init: 547D */
+/* function ia_css_queue_remote_init: 5508 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_stop_req
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/hive_isp_css_2401_system_generated/ia_css_isp_params.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/hive_isp_css_2401_system_generated/ia_css_isp_params.h
index 23c6b60..9680f4e 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/hive_isp_css_2401_system_generated/ia_css_isp_params.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/hive_isp_css_2401_system_generated/ia_css_isp_params.h
@@ -110,6 +110,8 @@ struct ia_css_memory_offsets {
 		struct ia_css_isp_parameter ctc;
 		struct ia_css_isp_parameter xnr;
 		struct ia_css_isp_parameter xnr3;
+		struct ia_css_isp_parameter get;
+		struct ia_css_isp_parameter put;
 	} dmem;
 	struct {
 		struct ia_css_isp_parameter anr2;
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/spmem_dump.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/spmem_dump.c
index 80e0ed9..4be4dc5 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/spmem_dump.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_2401_system/spmem_dump.c
@@ -24,7 +24,7 @@
 
 /* function input_system_acquisition_stop: ADE */
 
-/* function longjmp: 6884 */
+/* function longjmp: 684E */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SRST_MASK
@@ -38,11 +38,11 @@
 #define HIVE_ADDR_sp_HIVE_IF_SRST_MASK 0x1C8
 #define HIVE_SIZE_sp_HIVE_IF_SRST_MASK 16
 
-/* function tmpmem_init_dmem: 65CF */
+/* function tmpmem_init_dmem: 6599 */
 
-/* function ia_css_isys_sp_token_map_receive_ack: 5F13 */
+/* function ia_css_isys_sp_token_map_receive_ack: 5EDD */
 
-/* function ia_css_dmaproxy_sp_set_addr_B: 32C9 */
+/* function ia_css_dmaproxy_sp_set_addr_B: 3345 */
 
 /* function debug_buffer_set_ddr_addr: DD */
 
@@ -60,13 +60,13 @@
 #define HIVE_ADDR_sp_vbuf_mipi 0x631C
 #define HIVE_SIZE_sp_vbuf_mipi 12
 
-/* function ia_css_event_sp_decode: 34BA */
+/* function ia_css_event_sp_decode: 3536 */
 
-/* function ia_css_queue_get_size: 4833 */
+/* function ia_css_queue_get_size: 48BE */
 
-/* function ia_css_queue_load: 4E74 */
+/* function ia_css_queue_load: 4EFF */
 
-/* function setjmp: 688D */
+/* function setjmp: 6857 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_sp2host_isys_event_queue
@@ -80,11 +80,11 @@
 #define HIVE_ADDR_sp_sem_for_sp2host_isys_event_queue 0x4684
 #define HIVE_SIZE_sp_sem_for_sp2host_isys_event_queue 20
 
-/* function ia_css_dmaproxy_sp_wait_for_ack: 6E3D */
+/* function ia_css_dmaproxy_sp_wait_for_ack: 6E07 */
 
-/* function ia_css_sp_rawcopy_func: 5099 */
+/* function ia_css_sp_rawcopy_func: 5124 */
 
-/* function ia_css_tagger_buf_sp_pop_marked: 295B */
+/* function ia_css_tagger_buf_sp_pop_marked: 2A10 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_stage
@@ -101,18 +101,18 @@
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_raw
 #define HIVE_MEM_vbuf_raw scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_raw 0x2F0
+#define HIVE_ADDR_vbuf_raw 0x2F4
 #define HIVE_SIZE_vbuf_raw 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_raw scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_raw 0x2F0
+#define HIVE_ADDR_sp_vbuf_raw 0x2F4
 #define HIVE_SIZE_sp_vbuf_raw 4
 
-/* function ia_css_sp_bin_copy_func: 4FC0 */
+/* function ia_css_sp_bin_copy_func: 504B */
 
-/* function ia_css_queue_item_store: 4BC2 */
+/* function ia_css_queue_item_store: 4C4D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_metadata_bufs
@@ -166,7 +166,7 @@
 
 /* function ia_css_thread_sp_main: D5B */
 
-/* function ia_css_ispctrl_sp_init_internal_buffers: 36C0 */
+/* function ia_css_ispctrl_sp_init_internal_buffers: 373C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_psys_event_queue_handle
@@ -192,7 +192,7 @@
 #define HIVE_ADDR_sp_sem_for_sp2host_psys_event_queue 0x4698
 #define HIVE_SIZE_sp_sem_for_sp2host_psys_event_queue 20
 
-/* function ia_css_tagger_sp_propagate_frame: 23FB */
+/* function ia_css_tagger_sp_propagate_frame: 2429 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_stop_copy_preview
@@ -220,19 +220,19 @@
 #define HIVE_ADDR_sp_vbuf_handles 0x6328
 #define HIVE_SIZE_sp_vbuf_handles 960
 
-/* function ia_css_queue_store: 4D28 */
+/* function ia_css_queue_store: 4DB3 */
 
-/* function ia_css_sp_flash_register: 2BC9 */
+/* function ia_css_sp_flash_register: 2C45 */
 
-/* function ia_css_sp_rawcopy_dummy_function: 56A1 */
+/* function ia_css_sp_rawcopy_dummy_function: 566B */
 
-/* function ia_css_isys_sp_backend_create: 5B86 */
+/* function ia_css_isys_sp_backend_create: 5B50 */
 
 /* function ia_css_pipeline_sp_init: 184C */
 
-/* function ia_css_tagger_sp_configure: 22EB */
+/* function ia_css_tagger_sp_configure: 2319 */
 
-/* function ia_css_ispctrl_sp_end_binary: 3503 */
+/* function ia_css_ispctrl_sp_end_binary: 357F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_h_pipe_private_per_frame_ddr_ptrs
@@ -296,7 +296,7 @@
 #define HIVE_ADDR_sp_host_sp_com 0x4114
 #define HIVE_SIZE_sp_host_sp_com 220
 
-/* function ia_css_queue_get_free_space: 4987 */
+/* function ia_css_queue_get_free_space: 4A12 */
 
 /* function exec_image_pipe: 6C4 */
 
@@ -312,19 +312,19 @@
 #define HIVE_ADDR_sp_sp_init_dmem_data 0x62B0
 #define HIVE_SIZE_sp_sp_init_dmem_data 24
 
-/* function ia_css_sp_metadata_start: 5963 */
+/* function ia_css_sp_metadata_start: 592D */
 
-/* function ia_css_bufq_sp_init_buffer_queues: 2C38 */
+/* function ia_css_bufq_sp_init_buffer_queues: 2CB4 */
 
 /* function ia_css_pipeline_sp_stop: 182F */
 
-/* function ia_css_tagger_sp_connect_pipes: 27C4 */
+/* function ia_css_tagger_sp_connect_pipes: 2803 */
 
 /* function sp_isys_copy_wait: 70D */
 
 /* function is_isp_debug_buffer_full: 337 */
 
-/* function ia_css_dmaproxy_sp_configure_channel_from_info: 324C */
+/* function ia_css_dmaproxy_sp_configure_channel_from_info: 32C8 */
 
 /* function encode_and_post_timer_event: A30 */
 
@@ -340,7 +340,7 @@
 #define HIVE_ADDR_sp_sp_per_frame_data 0x41F0
 #define HIVE_SIZE_sp_sp_per_frame_data 4
 
-/* function ia_css_rmgr_sp_vbuf_dequeue: 6323 */
+/* function ia_css_rmgr_sp_vbuf_dequeue: 62ED */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_host2sp_psys_event_queue_handle
@@ -370,7 +370,7 @@
 
 /* function ia_css_pipeline_sp_run: 141C */
 
-/* function memcpy: 692D */
+/* function memcpy: 68F7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_GP_DEVICE_BASE
@@ -398,13 +398,13 @@
 
 /* function input_system_reg_store: B1E */
 
-/* function ia_css_isys_sp_frontend_start: 5D9C */
+/* function ia_css_isys_sp_frontend_start: 5D66 */
 
-/* function ia_css_uds_sp_scale_params: 6636 */
+/* function ia_css_uds_sp_scale_params: 6600 */
 
 /* function ia_css_circbuf_increase_size: E40 */
 
-/* function __divu: 68AB */
+/* function __divu: 6875 */
 
 /* function ia_css_thread_sp_get_state: C83 */
 
@@ -436,9 +436,9 @@
 
 /* function ia_css_parambuf_sp_handle_parameter_sets: 128A */
 
-/* function ia_css_spctrl_sp_set_state: 5992 */
+/* function ia_css_spctrl_sp_set_state: 595C */
 
-/* function ia_css_thread_sem_sp_signal: 6B2D */
+/* function ia_css_thread_sem_sp_signal: 6AF7 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_IRQ_BASE
@@ -464,13 +464,13 @@
 #define HIVE_ADDR_sp_TIMED_CTRL_BASE 0x40
 #define HIVE_SIZE_sp_TIMED_CTRL_BASE 4
 
-/* function ia_css_isys_sp_isr: 7012 */
+/* function ia_css_isys_sp_isr: 6FDC */
 
-/* function ia_css_isys_sp_generate_exp_id: 6134 */
+/* function ia_css_isys_sp_generate_exp_id: 60FE */
 
-/* function ia_css_rmgr_sp_init: 621E */
+/* function ia_css_rmgr_sp_init: 61E8 */
 
-/* function ia_css_thread_sem_sp_init: 6BFE */
+/* function ia_css_thread_sem_sp_init: 6BC8 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_is_isp_requested
@@ -496,15 +496,15 @@
 #define HIVE_ADDR_sp_sem_for_reading_cb_frame 0x46D0
 #define HIVE_SIZE_sp_sem_for_reading_cb_frame 40
 
-/* function ia_css_dmaproxy_sp_execute: 31B4 */
+/* function ia_css_dmaproxy_sp_execute: 3230 */
 
-/* function ia_css_queue_is_empty: 486E */
+/* function ia_css_queue_is_empty: 48F9 */
 
 /* function ia_css_pipeline_sp_has_stopped: 1825 */
 
 /* function ia_css_circbuf_extract: F44 */
 
-/* function ia_css_tagger_buf_sp_is_locked_from_start: 2AAA */
+/* function ia_css_tagger_buf_sp_is_locked_from_start: 2B26 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_current_sp_thread
@@ -518,13 +518,13 @@
 #define HIVE_ADDR_sp_current_sp_thread 0x1DC
 #define HIVE_SIZE_sp_current_sp_thread 4
 
-/* function ia_css_spctrl_sp_get_spid: 5999 */
+/* function ia_css_spctrl_sp_get_spid: 5963 */
 
-/* function ia_css_bufq_sp_reset_buffers: 2CBF */
+/* function ia_css_bufq_sp_reset_buffers: 2D3B */
 
-/* function ia_css_dmaproxy_sp_read_byte_addr: 6E6B */
+/* function ia_css_dmaproxy_sp_read_byte_addr: 6E35 */
 
-/* function ia_css_rmgr_sp_uninit: 6217 */
+/* function ia_css_rmgr_sp_uninit: 61E1 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_stack
@@ -542,7 +542,7 @@
 
 /* function ia_css_parambuf_sp_wait_for_in_param: 1053 */
 
-/* function ia_css_isys_sp_token_map_get_exp_id: 5FFC */
+/* function ia_css_isys_sp_token_map_get_exp_id: 5FC6 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cb_elems_param
@@ -594,7 +594,7 @@
 #define HIVE_ADDR_sp_sem_for_reading_cb_param 0x4710
 #define HIVE_SIZE_sp_sem_for_reading_cb_param 40
 
-/* function ia_css_queue_get_used_space: 493B */
+/* function ia_css_queue_get_used_space: 49C6 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_cont_capt_start
@@ -620,11 +620,11 @@
 #define HIVE_ADDR_sp_tmp_heap 0x6010
 #define HIVE_SIZE_sp_tmp_heap 640
 
-/* function ia_css_rmgr_sp_get_num_vbuf: 6527 */
+/* function ia_css_rmgr_sp_get_num_vbuf: 64F1 */
 
-/* function ia_css_ispctrl_sp_output_compute_dma_info: 3EE4 */
+/* function ia_css_ispctrl_sp_output_compute_dma_info: 3F62 */
 
-/* function ia_css_tagger_sp_lock_exp_id: 20D6 */
+/* function ia_css_tagger_sp_lock_exp_id: 20E6 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_s3a_bufs
@@ -638,11 +638,11 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 0x4B8C
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_s3a_bufs 60
 
-/* function ia_css_queue_is_full: 49D2 */
+/* function ia_css_queue_is_full: 4A5D */
 
 /* function debug_buffer_init_isp: E4 */
 
-/* function ia_css_isys_sp_frontend_uninit: 5D56 */
+/* function ia_css_isys_sp_frontend_uninit: 5D20 */
 
 /* function ia_css_tagger_sp_exp_id_is_locked: 201C */
 
@@ -658,7 +658,7 @@
 #define HIVE_ADDR_sp_ia_css_rmgr_sp_mipi_frame_sem 0x66E8
 #define HIVE_SIZE_sp_ia_css_rmgr_sp_mipi_frame_sem 60
 
-/* function ia_css_rmgr_sp_refcount_dump: 62FE */
+/* function ia_css_rmgr_sp_refcount_dump: 62C8 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_pipe_private_isp_parameters_id
@@ -698,7 +698,7 @@
 #define HIVE_ADDR_sp_host2sp_isys_event_queue_handle 0x4BDC
 #define HIVE_SIZE_sp_host2sp_isys_event_queue_handle 12
 
-/* function ia_css_thread_sp_yield: 6AA6 */
+/* function ia_css_thread_sp_yield: 6A70 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param_desc
@@ -726,21 +726,23 @@
 
 /* function ia_css_thread_sp_fork: D10 */
 
-/* function ia_css_tagger_sp_destroy: 27CE */
+/* function ia_css_tagger_sp_destroy: 280D */
 
-/* function ia_css_dmaproxy_sp_vmem_read: 3154 */
+/* function ia_css_dmaproxy_sp_vmem_read: 31D0 */
 
-/* function ia_css_ifmtr_sp_init: 6185 */
+/* function ia_css_ifmtr_sp_init: 614F */
 
 /* function initialize_sp_group: 6D4 */
 
+/* function ia_css_tagger_buf_sp_peek: 2932 */
+
 /* function ia_css_thread_sp_init: D3C */
 
-/* function ia_css_isys_sp_reset_exp_id: 612C */
+/* function ia_css_isys_sp_reset_exp_id: 60F6 */
 
-/* function qos_scheduler_update_fps: 6626 */
+/* function qos_scheduler_update_fps: 65F0 */
 
-/* function ia_css_ispctrl_sp_set_stream_base_addr: 45AC */
+/* function ia_css_ispctrl_sp_set_stream_base_addr: 4637 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ISP_DMEM_BASE
@@ -766,18 +768,18 @@
 #define HIVE_ADDR_sp_SP_DMEM_BASE 0x4
 #define HIVE_SIZE_sp_SP_DMEM_BASE 4
 
-/* function ia_css_dmaproxy_sp_read: 31CA */
+/* function ia_css_dmaproxy_sp_read: 3246 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_raw_copy_line_count
 #define HIVE_MEM_raw_copy_line_count scalar_processor_2400_dmem
-#define HIVE_ADDR_raw_copy_line_count 0x2C4
+#define HIVE_ADDR_raw_copy_line_count 0x2C8
 #define HIVE_SIZE_raw_copy_line_count 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_raw_copy_line_count scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_raw_copy_line_count 0x2C4
+#define HIVE_ADDR_sp_raw_copy_line_count 0x2C8
 #define HIVE_SIZE_sp_raw_copy_line_count 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -792,7 +794,7 @@
 #define HIVE_ADDR_sp_host2sp_tag_cmd_queue_handle 0x4BE8
 #define HIVE_SIZE_sp_host2sp_tag_cmd_queue_handle 12
 
-/* function ia_css_queue_peek: 48B1 */
+/* function ia_css_queue_peek: 493C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_frame_cnt
@@ -832,13 +834,15 @@
 
 /* function encode_and_post_sp_event_non_blocking: A78 */
 
-/* function ia_css_isys_sp_frontend_destroy: 5E2E */
+/* function ia_css_isys_sp_frontend_destroy: 5DF8 */
 
 /* function is_ddr_debug_buffer_full: 2CC */
 
-/* function ia_css_isys_sp_frontend_stop: 5D6E */
+/* function ia_css_isys_sp_frontend_stop: 5D38 */
+
+/* function ia_css_isys_sp_token_map_init: 6094 */
 
-/* function ia_css_isys_sp_token_map_init: 60CA */
+/* function ia_css_tagger_buf_sp_get_oldest_marked_offset: 2982 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_threads_fiber
@@ -856,9 +860,9 @@
 
 /* function debug_enqueue_ddr: EE */
 
-/* function ia_css_rmgr_sp_refcount_init_vbuf: 62B9 */
+/* function ia_css_rmgr_sp_refcount_init_vbuf: 6283 */
 
-/* function dmaproxy_sp_read_write: 6F1A */
+/* function dmaproxy_sp_read_write: 6EE4 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_dmaproxy_isp_dma_cmd_buffer
@@ -896,17 +900,17 @@
 #define HIVE_ADDR_sp_ia_css_flash_sp_in_service 0x3178
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_service 4
 
-/* function ia_css_dmaproxy_sp_process: 6C26 */
+/* function ia_css_dmaproxy_sp_process: 6BF0 */
 
-/* function ia_css_tagger_buf_sp_mark_from_end: 2B8E */
+/* function ia_css_tagger_buf_sp_mark_from_end: 2C0A */
 
-/* function ia_css_isys_sp_backend_rcv_acquire_ack: 5A3B */
+/* function ia_css_isys_sp_backend_rcv_acquire_ack: 5A05 */
 
-/* function ia_css_isys_sp_backend_pre_acquire_request: 5A51 */
+/* function ia_css_isys_sp_backend_pre_acquire_request: 5A1B */
 
-/* function ia_css_ispctrl_sp_init_cs: 35F0 */
+/* function ia_css_ispctrl_sp_init_cs: 366C */
 
-/* function ia_css_spctrl_sp_init: 59A7 */
+/* function ia_css_spctrl_sp_init: 5971 */
 
 /* function sp_event_proxy_init: 730 */
 
@@ -970,11 +974,11 @@
 #define HIVE_ADDR_sp_INPUT_FORMATTER_BASE 0x4C
 #define HIVE_SIZE_sp_INPUT_FORMATTER_BASE 16
 
-/* function sp_dma_proxy_reset_channels: 3424 */
+/* function sp_dma_proxy_reset_channels: 34A0 */
 
-/* function ia_css_isys_sp_backend_acquire: 5B5C */
+/* function ia_css_isys_sp_backend_acquire: 5B26 */
 
-/* function ia_css_tagger_sp_update_size: 28C2 */
+/* function ia_css_tagger_sp_update_size: 2901 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_host_sp_queue
@@ -990,7 +994,7 @@
 
 /* function thread_fiber_sp_create: DA8 */
 
-/* function ia_css_dmaproxy_sp_set_increments: 32B6 */
+/* function ia_css_dmaproxy_sp_set_increments: 3332 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_writing_cb_frame
@@ -1026,21 +1030,21 @@
 #endif
 #define HIVE_ADDR_sp_sp_start_isp_entry 0x453
 
-/* function ia_css_tagger_buf_sp_unmark_all: 2B12 */
+/* function ia_css_tagger_buf_sp_unmark_all: 2B8E */
 
-/* function ia_css_tagger_buf_sp_unmark_from_start: 2B53 */
+/* function ia_css_tagger_buf_sp_unmark_from_start: 2BCF */
 
-/* function ia_css_dmaproxy_sp_channel_acquire: 3450 */
+/* function ia_css_dmaproxy_sp_channel_acquire: 34CC */
 
-/* function ia_css_rmgr_sp_add_num_vbuf: 6503 */
+/* function ia_css_rmgr_sp_add_num_vbuf: 64CD */
 
-/* function ia_css_isys_sp_token_map_create: 6113 */
+/* function ia_css_isys_sp_token_map_create: 60DD */
 
-/* function __ia_css_dmaproxy_sp_wait_for_ack_text: 3120 */
+/* function __ia_css_dmaproxy_sp_wait_for_ack_text: 319C */
 
 /* function ia_css_tagger_sp_acquire_buf_elem: 1FF4 */
 
-/* function ia_css_bufq_sp_is_dynamic_buffer: 3009 */
+/* function ia_css_bufq_sp_is_dynamic_buffer: 3085 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_group
@@ -1068,9 +1072,9 @@
 
 /* function ia_css_thread_sp_kill: CD6 */
 
-/* function ia_css_tagger_sp_create: 287C */
+/* function ia_css_tagger_sp_create: 28BB */
 
-/* function tmpmem_acquire_dmem: 65B0 */
+/* function tmpmem_acquire_dmem: 657A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_MMU_BASE
@@ -1084,9 +1088,9 @@
 #define HIVE_ADDR_sp_MMU_BASE 0x24
 #define HIVE_SIZE_sp_MMU_BASE 8
 
-/* function ia_css_dmaproxy_sp_channel_release: 343C */
+/* function ia_css_dmaproxy_sp_channel_release: 34B8 */
 
-/* function ia_css_dmaproxy_sp_is_idle: 341C */
+/* function ia_css_dmaproxy_sp_is_idle: 3498 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_qos_start
@@ -1104,7 +1108,7 @@
 
 /* function ia_css_tagger_sp_release_buf_elem: 1FD0 */
 
-/* function ia_css_eventq_sp_send: 3492 */
+/* function ia_css_eventq_sp_send: 350E */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_isys_sp_error_cnt
@@ -1118,7 +1122,7 @@
 #define HIVE_ADDR_sp_ia_css_isys_sp_error_cnt 0x62D4
 #define HIVE_SIZE_sp_ia_css_isys_sp_error_cnt 16
 
-/* function ia_css_tagger_buf_sp_unlock_from_start: 2A42 */
+/* function ia_css_tagger_buf_sp_unlock_from_start: 2ABE */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_debug_buffer_ddr_address
@@ -1134,29 +1138,29 @@
 
 /* function sp_isys_copy_request: 714 */
 
-/* function ia_css_rmgr_sp_refcount_retain_vbuf: 6393 */
+/* function ia_css_rmgr_sp_refcount_retain_vbuf: 635D */
 
 /* function ia_css_thread_sp_set_priority: CCE */
 
 /* function sizeof_hmem: BFC */
 
-/* function tmpmem_release_dmem: 659F */
+/* function tmpmem_release_dmem: 6569 */
 
 /* function cnd_input_system_cfg: 392 */
 
-/* function __ia_css_sp_rawcopy_func_critical: 6F9B */
+/* function __ia_css_sp_rawcopy_func_critical: 6F65 */
 
-/* function ia_css_dmaproxy_sp_set_width_exception: 32A1 */
+/* function ia_css_dmaproxy_sp_set_width_exception: 331D */
 
 /* function sp_event_assert: 8B1 */
 
-/* function ia_css_flash_sp_init_internal_params: 2C2D */
+/* function ia_css_flash_sp_init_internal_params: 2CA9 */
 
-/* function ia_css_tagger_buf_sp_pop_unmarked_and_unlocked: 28F3 */
+/* function ia_css_tagger_buf_sp_pop_unmarked_and_unlocked: 29C4 */
 
-/* function __modu: 68F1 */
+/* function __modu: 68BB */
 
-/* function ia_css_dmaproxy_sp_init_isp_vector: 3126 */
+/* function ia_css_dmaproxy_sp_init_isp_vector: 31A2 */
 
 /* function isp_vamem_store: 0 */
 
@@ -1172,11 +1176,11 @@
 #define HIVE_ADDR_sp_GDC_BASE 0x44
 #define HIVE_SIZE_sp_GDC_BASE 8
 
-/* function ia_css_queue_local_init: 4B9C */
+/* function ia_css_queue_local_init: 4C27 */
 
-/* function sp_event_proxy_callout_func: 69BE */
+/* function sp_event_proxy_callout_func: 6988 */
 
-/* function qos_scheduler_schedule_stage: 65F7 */
+/* function qos_scheduler_schedule_stage: 65C1 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_thread_sp_num_ready_threads
@@ -1202,13 +1206,13 @@
 #define HIVE_ADDR_sp_sp_threads_stack_size 0x180
 #define HIVE_SIZE_sp_sp_threads_stack_size 28
 
-/* function ia_css_ispctrl_sp_isp_done_row_striping: 3ECA */
+/* function ia_css_ispctrl_sp_isp_done_row_striping: 3F48 */
 
-/* function __ia_css_isys_sp_isr_text: 5E58 */
+/* function __ia_css_isys_sp_isr_text: 5E22 */
 
-/* function ia_css_queue_dequeue: 4A1A */
+/* function ia_css_queue_dequeue: 4AA5 */
 
-/* function ia_css_dmaproxy_sp_configure_channel: 6E82 */
+/* function ia_css_dmaproxy_sp_configure_channel: 6E4C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_current_thread_fiber_sp
@@ -1224,7 +1228,7 @@
 
 /* function ia_css_circbuf_pop: FD8 */
 
-/* function memset: 6970 */
+/* function memset: 693A */
 
 /* function irq_raise_set_token: B6 */
 
@@ -1256,11 +1260,11 @@
 #define HIVE_ADDR_sp_isp_ph 0x62E4
 #define HIVE_SIZE_sp_isp_ph 28
 
-/* function ia_css_isys_sp_token_map_flush: 6058 */
+/* function ia_css_isys_sp_token_map_flush: 6022 */
 
-/* function ia_css_ispctrl_sp_init_ds: 374F */
+/* function ia_css_ispctrl_sp_init_ds: 37CB */
 
-/* function get_xmem_base_addr_raw: 3AFA */
+/* function get_xmem_base_addr_raw: 3B78 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_all_cbs_param
@@ -1288,21 +1292,21 @@
 #define HIVE_ADDR_sp_sem_for_sp_group 0x47A0
 #define HIVE_SIZE_sp_sem_for_sp_group 20
 
-/* function ia_css_framebuf_sp_wait_for_in_frame: 652E */
+/* function ia_css_framebuf_sp_wait_for_in_frame: 64F8 */
 
-/* function ia_css_sp_rawcopy_tag_frame: 55BE */
+/* function ia_css_sp_rawcopy_tag_frame: 5588 */
 
 /* function isp_hmem_clear: B25 */
 
-/* function ia_css_framebuf_sp_release_in_frame: 6571 */
+/* function ia_css_framebuf_sp_release_in_frame: 653B */
 
-/* function ia_css_isys_sp_backend_snd_acquire_request: 5AAE */
+/* function ia_css_isys_sp_backend_snd_acquire_request: 5A78 */
 
-/* function ia_css_isys_sp_token_map_is_full: 5EDF */
+/* function ia_css_isys_sp_token_map_is_full: 5EA9 */
 
 /* function input_system_acquisition_run: AF9 */
 
-/* function ia_css_ispctrl_sp_start_binary: 35CE */
+/* function ia_css_ispctrl_sp_start_binary: 364A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_h_pipe_private_ddr_ptrs
@@ -1316,21 +1320,21 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 0x58F4
 #define HIVE_SIZE_sp_ia_css_bufq_sp_h_pipe_private_ddr_ptrs 20
 
-/* function ia_css_eventq_sp_recv: 3464 */
+/* function ia_css_eventq_sp_recv: 34E0 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_pool
 #define HIVE_MEM_isp_pool scalar_processor_2400_dmem
-#define HIVE_ADDR_isp_pool 0x2E4
+#define HIVE_ADDR_isp_pool 0x2E8
 #define HIVE_SIZE_isp_pool 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_isp_pool scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_isp_pool 0x2E4
+#define HIVE_ADDR_sp_isp_pool 0x2E8
 #define HIVE_SIZE_sp_isp_pool 4
 
-/* function ia_css_rmgr_sp_rel_gen: 6260 */
+/* function ia_css_rmgr_sp_rel_gen: 622A */
 
 /* function css_get_frame_processing_time_end: 1FC0 */
 
@@ -1346,15 +1350,15 @@
 #define HIVE_ADDR_sp_event_any_pending_mask 0x300
 #define HIVE_SIZE_sp_event_any_pending_mask 8
 
-/* function ia_css_isys_sp_backend_push: 5A65 */
+/* function ia_css_isys_sp_backend_push: 5A2F */
 
 /* function sh_css_decode_tag_descr: 352 */
 
 /* function debug_enqueue_isp: 27B */
 
-/* function qos_scheduler_update_stage_budget: 65E5 */
+/* function qos_scheduler_update_stage_budget: 65AF */
 
-/* function ia_css_spctrl_sp_uninit: 59A0 */
+/* function ia_css_spctrl_sp_uninit: 596A */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SWITCH_CODE
@@ -1380,7 +1384,7 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_dis_bufs 0x5908
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_dis_bufs 140
 
-/* function ia_css_tagger_buf_sp_lock_from_start: 2A76 */
+/* function ia_css_tagger_buf_sp_lock_from_start: 2AF2 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_isp_idle
@@ -1394,11 +1398,11 @@
 #define HIVE_ADDR_sp_sem_for_isp_idle 0x47B4
 #define HIVE_SIZE_sp_sem_for_isp_idle 20
 
-/* function ia_css_dmaproxy_sp_write_byte_addr: 3183 */
+/* function ia_css_dmaproxy_sp_write_byte_addr: 31FF */
 
-/* function ia_css_dmaproxy_sp_init: 30FA */
+/* function ia_css_dmaproxy_sp_init: 3176 */
 
-/* function ia_css_bufq_sp_release_dynamic_buf_clock_tick: 2CFF */
+/* function ia_css_bufq_sp_release_dynamic_buf_clock_tick: 2D7B */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ISP_VAMEM_BASE
@@ -1436,11 +1440,11 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_exp_ids 0x5994
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_exp_ids 70
 
-/* function ia_css_queue_item_load: 4C8E */
+/* function ia_css_queue_item_load: 4D19 */
 
-/* function ia_css_spctrl_sp_get_state: 598B */
+/* function ia_css_spctrl_sp_get_state: 5955 */
 
-/* function ia_css_isys_sp_token_map_uninit: 6075 */
+/* function ia_css_isys_sp_token_map_uninit: 603F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_callout_sp_thread
@@ -1468,7 +1472,7 @@
 #define HIVE_ADDR_sp_SP_PMEM_BASE 0x0
 #define HIVE_SIZE_sp_SP_PMEM_BASE 4
 
-/* function ia_css_isys_sp_token_map_snd_acquire_req: 5FE5 */
+/* function ia_css_isys_sp_token_map_snd_acquire_req: 5FAF */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_isp_input_stream_format
@@ -1482,39 +1486,39 @@
 #define HIVE_ADDR_sp_sp_isp_input_stream_format 0x40F8
 #define HIVE_SIZE_sp_sp_isp_input_stream_format 20
 
-/* function __mod: 68DD */
+/* function __mod: 68A7 */
 
-/* function ia_css_dmaproxy_sp_init_dmem_channel: 31E4 */
+/* function ia_css_dmaproxy_sp_init_dmem_channel: 3260 */
 
 /* function ia_css_thread_sp_join: CFF */
 
-/* function ia_css_dmaproxy_sp_add_command: 6F85 */
+/* function ia_css_dmaproxy_sp_add_command: 6F4F */
 
-/* function ia_css_sp_metadata_thread_func: 583F */
+/* function ia_css_sp_metadata_thread_func: 5809 */
 
-/* function __sp_event_proxy_func_critical: 69AB */
+/* function __sp_event_proxy_func_critical: 6975 */
 
-/* function ia_css_sp_metadata_wait: 5952 */
+/* function ia_css_sp_metadata_wait: 591C */
 
 /* function ia_css_circbuf_peek_from_start: F08 */
 
-/* function ia_css_event_sp_encode: 34EF */
+/* function ia_css_event_sp_encode: 356B */
 
 /* function ia_css_thread_sp_run: D72 */
 
 /* function sp_isys_copy_func: 6F6 */
 
-/* function ia_css_isys_sp_backend_flush: 5ACE */
+/* function ia_css_isys_sp_backend_flush: 5A98 */
 
-/* function ia_css_isys_sp_backend_frame_exists: 59EA */
+/* function ia_css_isys_sp_backend_frame_exists: 59B4 */
 
-/* function ia_css_sp_isp_param_init_isp_memories: 4717 */
+/* function ia_css_sp_isp_param_init_isp_memories: 47A2 */
 
 /* function register_isr: 8A9 */
 
 /* function irq_raise: C8 */
 
-/* function ia_css_dmaproxy_sp_mmu_invalidate: 30C1 */
+/* function ia_css_dmaproxy_sp_mmu_invalidate: 313D */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_HIVE_IF_SRST_ADDRESS
@@ -1542,24 +1546,24 @@
 #define HIVE_ADDR_sp_ia_css_isys_sp_frontend_states 0x62C8
 #define HIVE_SIZE_sp_ia_css_isys_sp_frontend_states 12
 
-/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 6E54 */
+/* function ia_css_dmaproxy_sp_read_byte_addr_mmio: 6E1E */
 
-/* function ia_css_ispctrl_sp_done_ds: 3736 */
+/* function ia_css_ispctrl_sp_done_ds: 37B2 */
 
-/* function ia_css_sp_isp_param_get_mem_inits: 46F2 */
+/* function ia_css_sp_isp_param_get_mem_inits: 477D */
 
 /* function ia_css_parambuf_sp_init_buffer_queues: 13D0 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_pfp_spref
 #define HIVE_MEM_vbuf_pfp_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_pfp_spref 0x2EC
+#define HIVE_ADDR_vbuf_pfp_spref 0x2F0
 #define HIVE_SIZE_vbuf_pfp_spref 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_pfp_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_pfp_spref 0x2EC
+#define HIVE_ADDR_sp_vbuf_pfp_spref 0x2F0
 #define HIVE_SIZE_sp_vbuf_pfp_spref 4
 
 /* function input_system_cfg: ABB */
@@ -1588,11 +1592,11 @@
 #define HIVE_ADDR_sp_ia_css_bufq_sp_pipe_private_frames 0x59DC
 #define HIVE_SIZE_sp_ia_css_bufq_sp_pipe_private_frames 280
 
-/* function qos_scheduler_init_stage_budget: 661E */
+/* function qos_scheduler_init_stage_budget: 65E8 */
 
-/* function ia_css_isys_sp_backend_release: 5B43 */
+/* function ia_css_isys_sp_backend_release: 5B0D */
 
-/* function ia_css_isys_sp_backend_destroy: 5B6D */
+/* function ia_css_isys_sp_backend_destroy: 5B37 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp2host_buffer_queue_handle
@@ -1606,19 +1610,19 @@
 #define HIVE_ADDR_sp_sp2host_buffer_queue_handle 0x5AF4
 #define HIVE_SIZE_sp_sp2host_buffer_queue_handle 96
 
-/* function ia_css_isys_sp_token_map_check_mipi_frame_size: 5FA9 */
+/* function ia_css_isys_sp_token_map_check_mipi_frame_size: 5F73 */
 
-/* function ia_css_ispctrl_sp_init_isp_vars: 4411 */
+/* function ia_css_ispctrl_sp_init_isp_vars: 449C */
 
-/* function ia_css_isys_sp_frontend_has_empty_mipi_buffer_cb: 5BBF */
+/* function ia_css_isys_sp_frontend_has_empty_mipi_buffer_cb: 5B89 */
 
 /* function sp_warning: 8DC */
 
-/* function ia_css_rmgr_sp_vbuf_enqueue: 6353 */
+/* function ia_css_rmgr_sp_vbuf_enqueue: 631D */
 
-/* function ia_css_tagger_sp_tag_exp_id: 214B */
+/* function ia_css_tagger_sp_tag_exp_id: 215B */
 
-/* function ia_css_dmaproxy_sp_write: 319A */
+/* function ia_css_dmaproxy_sp_write: 3216 */
 
 /* function ia_css_parambuf_sp_release_in_param: 1250 */
 
@@ -1646,7 +1650,7 @@
 #define HIVE_ADDR_sp_sp_isp_addresses 0x5F44
 #define HIVE_SIZE_sp_sp_isp_addresses 172
 
-/* function ia_css_rmgr_sp_acq_gen: 6278 */
+/* function ia_css_rmgr_sp_acq_gen: 6242 */
 
 /* function receiver_reg_load: AD0 */
 
@@ -1674,7 +1678,7 @@
 #define HIVE_ADDR_sp_host_sp_queues_initialized 0x410C
 #define HIVE_SIZE_sp_host_sp_queues_initialized 4
 
-/* function ia_css_queue_uninit: 4B5A */
+/* function ia_css_queue_uninit: 4BE5 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_ispctrl_sp_isp_started
@@ -1688,11 +1692,11 @@
 #define HIVE_ADDR_sp_ia_css_ispctrl_sp_isp_started 0x5BFC
 #define HIVE_SIZE_sp_ia_css_ispctrl_sp_isp_started 4
 
-/* function ia_css_bufq_sp_release_dynamic_buf: 2D6B */
+/* function ia_css_bufq_sp_release_dynamic_buf: 2DE7 */
 
-/* function ia_css_dmaproxy_sp_set_height_exception: 3292 */
+/* function ia_css_dmaproxy_sp_set_height_exception: 330E */
 
-/* function ia_css_dmaproxy_sp_init_vmem_channel: 3217 */
+/* function ia_css_dmaproxy_sp_init_vmem_channel: 3293 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_num_ready_threads
@@ -1706,18 +1710,18 @@
 #define HIVE_ADDR_sp_num_ready_threads 0x49E4
 #define HIVE_SIZE_sp_num_ready_threads 4
 
-/* function ia_css_dmaproxy_sp_write_byte_addr_mmio: 316C */
+/* function ia_css_dmaproxy_sp_write_byte_addr_mmio: 31E8 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_vbuf_spref
 #define HIVE_MEM_vbuf_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_vbuf_spref 0x2E8
+#define HIVE_ADDR_vbuf_spref 0x2EC
 #define HIVE_SIZE_vbuf_spref 4
 #else
 #endif
 #endif
 #define HIVE_MEM_sp_vbuf_spref scalar_processor_2400_dmem
-#define HIVE_ADDR_sp_vbuf_spref 0x2E8
+#define HIVE_ADDR_sp_vbuf_spref 0x2EC
 #define HIVE_SIZE_sp_vbuf_spref 4
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
@@ -1732,7 +1736,7 @@
 #define HIVE_ADDR_sp_sp_metadata_thread 0x4998
 #define HIVE_SIZE_sp_sp_metadata_thread 68
 
-/* function ia_css_queue_enqueue: 4AA4 */
+/* function ia_css_queue_enqueue: 4B2F */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_request
@@ -1746,7 +1750,7 @@
 #define HIVE_ADDR_sp_ia_css_flash_sp_request 0x4A98
 #define HIVE_SIZE_sp_ia_css_flash_sp_request 4
 
-/* function ia_css_dmaproxy_sp_vmem_write: 313D */
+/* function ia_css_dmaproxy_sp_vmem_write: 31B9 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_tagger_frames
@@ -1760,7 +1764,7 @@
 #define HIVE_ADDR_sp_tagger_frames 0x49EC
 #define HIVE_SIZE_sp_tagger_frames 168
 
-/* function ia_css_isys_sp_token_map_snd_capture_req: 6007 */
+/* function ia_css_isys_sp_token_map_snd_capture_req: 5FD1 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sem_for_reading_if
@@ -1778,7 +1782,7 @@
 
 /* function ia_css_pipeline_sp_start: 1837 */
 
-/* function ia_css_sp_rawcopy_init: 5081 */
+/* function ia_css_sp_rawcopy_init: 510C */
 
 /* function tmr_clock_read: 13F1 */
 
@@ -1794,7 +1798,7 @@
 #define HIVE_ADDR_sp_ISP_BAMEM_BASE 0x2F8
 #define HIVE_SIZE_sp_ISP_BAMEM_BASE 4
 
-/* function ia_css_isys_sp_frontend_rcv_capture_ack: 5C6E */
+/* function ia_css_isys_sp_frontend_rcv_capture_ack: 5C38 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_bufq_sp_sems_for_sp2host_buf_queues
@@ -1838,9 +1842,9 @@
 #define HIVE_ADDR_sp_sem_for_str2mem 0x47EC
 #define HIVE_SIZE_sp_sem_for_str2mem 20
 
-/* function ia_css_tagger_buf_sp_is_marked_from_start: 2ADE */
+/* function ia_css_tagger_buf_sp_is_marked_from_start: 2B5A */
 
-/* function ia_css_bufq_sp_acquire_dynamic_buf: 2F23 */
+/* function ia_css_bufq_sp_acquire_dynamic_buf: 2F9F */
 
 /* function ia_css_circbuf_destroy: 101D */
 
@@ -1856,13 +1860,15 @@
 #define HIVE_ADDR_sp_ISP_PMEM_BASE 0xC
 #define HIVE_SIZE_sp_ISP_PMEM_BASE 4
 
-/* function ia_css_sp_isp_param_mem_load: 4685 */
+/* function ia_css_sp_isp_param_mem_load: 4710 */
+
+/* function ia_css_tagger_buf_sp_pop_from_start: 2946 */
 
-/* function __div: 6895 */
+/* function __div: 685F */
 
-/* function ia_css_isys_sp_frontend_create: 5E3F */
+/* function ia_css_isys_sp_frontend_create: 5E09 */
 
-/* function ia_css_rmgr_sp_refcount_release_vbuf: 6372 */
+/* function ia_css_rmgr_sp_refcount_release_vbuf: 633C */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_ia_css_flash_sp_in_use
@@ -1876,7 +1882,7 @@
 #define HIVE_ADDR_sp_ia_css_flash_sp_in_use 0x4A9C
 #define HIVE_SIZE_sp_ia_css_flash_sp_in_use 4
 
-/* function ia_css_thread_sem_sp_wait: 6B78 */
+/* function ia_css_thread_sem_sp_wait: 6B42 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_sp_sleep_mode
@@ -1890,7 +1896,7 @@
 #define HIVE_ADDR_sp_sp_sleep_mode 0x4110
 #define HIVE_SIZE_sp_sp_sleep_mode 4
 
-/* function ia_css_tagger_buf_sp_push: 29D9 */
+/* function ia_css_tagger_buf_sp_push: 2A55 */
 
 /* function mmu_invalidate_cache: D3 */
 
@@ -1906,7 +1912,7 @@
 #define HIVE_ADDR_sp_sp_max_cb_elems 0x148
 #define HIVE_SIZE_sp_sp_max_cb_elems 8
 
-/* function ia_css_queue_remote_init: 4B7C */
+/* function ia_css_queue_remote_init: 4C07 */
 
 #ifndef HIVE_MULTIPLE_PROGRAMS
 #ifndef HIVE_MEM_isp_stop_req
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_api_version.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_api_version.h
index 8c90164..88d89ec 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_api_version.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/css_api_version.h
@@ -35,7 +35,7 @@ The version string has four dot-separated numbers, read left to right:
 
 */
 
-#define CSS_API_VERSION_STRING	"2.1.14.20"
+#define CSS_API_VERSION_STRING	"2.1.15.3"
 
 /*
 Change log
@@ -236,14 +236,14 @@ v2.1.10.6 (6 changes parallel), change the pipe version type from integer to enu
 v2.1.13.0 (8 changes parallel), Stop Support for Skycam B0
 - Remove a few pre-processor defines for Skycam B0/C0 as support
 
-v2.1.14.0 (23 changes parallel), change the pipe version type from integer to enum
+v2.1.14.0 (24 changes parallel), change the pipe version type from integer to enum
 - remove the temporary workaround for backward compatability
 
-v2.1.14.0 (12 changes parallel), expose_gamma_enable_option
+v2.1.14.0 (13 changes parallel), expose_gamma_enable_option
 - added enable param to gamma_corr_public_config
 - added documentation to rgbpp_public.h
 
-v2.1.14.0 (11 changes parallel), Remove deprecated FW_ERROR event.
+v2.1.14.0 (12 changes parallel), Remove deprecated FW_ERROR event.
 - Remove code for deprecated FW_ERROR event.
 
 v2.1.14.3 (5 changes parallel), fix IEFD's puclic API types
@@ -278,50 +278,61 @@ v2.1.14.6 (8 changes parallel), add_flag_to_disable_continous_viewfinder
 v2.1.14.6 (8 changes parallel), Enlarge AF AWB_FR stats buffers
 - Enlarge AF and AWB_FR stats buffers to support max grid width per stripe as oppose to per frame
 
-v2.1.14.7 (5 changes parallel), pipe config option for vf output bci mode downscaling
+v2.1.14.8 (6 changes parallel), pipe config option for vf output bci mode downscaling
 - vf downscaling using yuv_scale binary.
 
-v2.1.14.9 (6 changes parallel), Add scale mode GDC V2 LUT to CSS API
+v2.1.14.10 (7 changes parallel), Add scale mode GDC V2 LUT to CSS API
 - Allow client to set global LUT for gdc v2 (First step in this change. See wiki page for more details)
 
-v2.1.14.9 (7 changes parallel), Include added to type-support.h.
+v2.1.14.10 (8 changes parallel), Include added to type-support.h.
 - Include of hive/cell_support.h was added to type-support.h, in order to
 - have access to define HAVE_STDINT.
 
-v2.1.14.10 (6 changes parallel), Pipe configuration to enable BLI mode downscaling for
+v2.1.14.11 (7 changes parallel), Pipe configuration to enable BLI mode downscaling for
 - BLI mode downscaling for capture post-processing
 
-v2.1.14.13 (8 changes parallel), Fix copyright headers (no functional change)
+v2.1.14.14 (9 changes parallel), Fix copyright headers (no functional change)
 - No functional change; only fixes copyright headers
 
-v2.1.14.13 (5 changes parallel), Remove continuous mode special case handling in ia_css_pipe_set_isp_config
+v2.1.14.14 (6 changes parallel), Remove continuous mode special case handling in ia_css_pipe_set_isp_config
 - For continuous mode isp_config was being send to all pipes,
 - even though API ia_css_pipe_set_isp_config is for single pipe
 - Removed incorrect case
 
-v2.1.14.13 (5 changes parallel), DVS statistics grid produced by accelerator
+v2.1.14.14 (6 changes parallel), DVS statistics grid produced by accelerator
 - Add DVS statistics produced by accelerator grid to pipe info
 - Add ia_css_pipe_has_dvs_stats function
 
-v2.1.14.14 (6 changes parallel), cont_remove_x_y_end_from_ae_and_awb
+v2.1.14.15 (7 changes parallel), cont_remove_x_y_end_from_ae_and_awb
 - this patch doesn't introduce any new api change, it only fixes a recent
 - api merged change (#31938) , in order to have success CI i had to upload an api change request
 
-v2.1.14.16 (5 changes parallel), Add XNR3 blending strength to kernel interface
+v2.1.14.17 (6 changes parallel), Add XNR3 blending strength to kernel interface
 - Added a blending strength field to the XNR3 kernel interface to add
 - support for blending.
 
-v2.1.14.17 (21 changes parallel), eliminate two_pixels_per_clock field
+v2.1.14.18 (22 changes parallel), eliminate two_pixels_per_clock field
 - remove obsolete field two_pixels_per_clock
 
-v2.1.14.18 (2 changes parallel), Fix copyright headers (no functional change)
+v2.1.14.19 (3 changes parallel), Fix copyright headers (no functional change)
 - No functional change; only fixes copyright headers
 
-v2.1.14.20 (1 changes parallel), Return an error when both DPC and BDS are enabled in a pipe config
+v2.1.14.21 (3 changes parallel), ia_css_skc_dvs_statistics field size change
+- ia_css_skc_dvs_statistics field size change
+
+v2.1.15.0 (3 changes parallel), revert ia_css_skc_dvs_statistics field size change 
+- Reverted field size change, change was not ready for driver yet.
+
+v2.1.15.2 (3 changes parallel), Return an error when both DPC and BDS are enabled in a pipe config
 - Return an error when both DPC and BDS are enabled in a pipe config
 
-v2.1.14.20 (2 changes parallel), ia_css_skc_dvs_statistics field size change
-- ia_css_skc_dvs_statistics field size change
+v2.1.15.3 (2 changes parallel), Update skycam DPC_MAX_NUMBER_OF_DP
+- Automated tooling requires an API change request
+- This change changes the implementation of #define DPC_MAX_NUMBER_OF_DP
+- it now returns a different number
+
+v2.1.15.3 (18 changes parallel), output_format_nv12_16
+- added new output fromat nv12_16
 
 */
 
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css.h
index e1d9a47..0fc8d7a 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css.h
@@ -1,4 +1,4 @@
-/* Release Version: irci_master_20150311_1503 */
+/* Release Version: irci_master_20150318_1500 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_acc_types.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_acc_types.h
index 075c9cf..2f49a1b 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_acc_types.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_acc_types.h
@@ -239,6 +239,7 @@ struct ia_css_binary_info {
 		uint8_t	rgbpp_acc;
 		uint8_t	rgbpp_ff;
 		uint8_t	demosaic_acc;
+		uint8_t	demosaic_ff;
 		uint8_t	dvs_stats;
 		uint8_t	lace_stats;
 		uint8_t	yuvp1_b0_acc;
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_frame_format.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_frame_format.h
index 37a24ee..d534fbd 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_frame_format.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_frame_format.h
@@ -50,6 +50,7 @@
 enum ia_css_frame_format {
 	IA_CSS_FRAME_FORMAT_NV11 = 0,   /**< 12 bit YUV 411, Y, UV plane */
 	IA_CSS_FRAME_FORMAT_NV12,       /**< 12 bit YUV 420, Y, UV plane */
+	IA_CSS_FRAME_FORMAT_NV12_16,    /**< 16 bit YUV 420, Y, UV plane */
 	IA_CSS_FRAME_FORMAT_NV12_TILEY, /**< 12 bit YUV 420, Intel proprietary tiled format, TileY */
 	IA_CSS_FRAME_FORMAT_NV16,       /**< 16 bit YUV 422, Y, UV plane */
 	IA_CSS_FRAME_FORMAT_NV21,       /**< 12 bit YUV 420, Y, VU plane */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_host_data.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_host_data.h
index f9f604a..86ecfad 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_host_data.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_host_data.h
@@ -1,4 +1,4 @@
-/* Release Version: irci_master_20150311_1503 */
+/* Release Version: irci_master_20150318_1500 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_types.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_types.h
index a9547cd..549cdbb 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_types.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_types.h
@@ -1,4 +1,4 @@
-/* Release Version: irci_master_20150311_1503 */
+/* Release Version: irci_master_20150318_1500 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_version_data.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_version_data.h
index eaddaba..7649695 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_version_data.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/ia_css_version_data.h
@@ -22,7 +22,7 @@
 #define __IA_CSS_VERSION_DATA_H
 
 
-#define CSS_VERSION_STRING "REL:20150311_11.3_1903; API:2.1.14.20; GIT:scci_20150310_2052_#3450aeadf65d330764f7626eb9d1723c19957ba9; SDK:/nfs/iir/disks/iir_hivepackages_003/iir_hivepkgs_disk017/Css_Mizuchi/packages/Css_Mizuchi/int_css_mizuchi_20140829_1053; USER:viedifw; "
+#define CSS_VERSION_STRING "REL:20150318_12.3_1808; API:2.1.15.3; GIT:scci_20150317_1900_#d3c2be9873be3d0c69ebe6837d458890ca2fec87; SDK:/nfs/iir/disks/iir_hivepackages_003/iir_hivepkgs_disk017/Css_Mizuchi/packages/Css_Mizuchi/int_css_mizuchi_20140829_1053; USER:viedifw; "
 
 
 #endif
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr.host.c
index bed8311..3bdc498 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr.host.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr.host.c
@@ -1,4 +1,4 @@
-/* Release Version: irci_master_20150311_1503 */
+/* Release Version: irci_master_20150318_1500 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr.host.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr.host.h
index f838ad2..85ec5a8 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr.host.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr.host.h
@@ -1,4 +1,4 @@
-/* Release Version: irci_master_20150311_1503 */
+/* Release Version: irci_master_20150318_1500 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr_param.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr_param.h
index 5c5b3c2..7776f31 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr_param.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr_param.h
@@ -1,4 +1,4 @@
-/* Release Version: irci_master_20150311_1503 */
+/* Release Version: irci_master_20150318_1500 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr_types.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr_types.h
index 117c193..1a4c9f5 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr_types.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/hdr/ia_css_hdr_types.h
@@ -1,4 +1,4 @@
-/* Release Version: irci_master_20150311_1503 */
+/* Release Version: irci_master_20150318_1500 */
 /*
  * Support for Intel Camera Imaging ISP subsystem.
  * Copyright (c) 2015, Intel Corporation.
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
new file mode 100644
index 0000000..7cb259a
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
@@ -0,0 +1,84 @@
+/*
+ * Support for Intel Camera Imaging ISP subsystem.
+ * Copyright (c) 2015, Intel Corporation.
+ *
+ * This program is free software; you can redistribute it and/or modify it
+ * under the terms and conditions of the GNU General Public License,
+ * version 2, as published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
+ * more details.
+ */
+
+#include "ia_css_bayer_io.host.h"
+#include "dma.h"
+#include "math_support.h"
+#ifndef IA_CSS_NO_DEBUG
+#include "ia_css_debug.h"
+#endif
+#include "ia_css_isp_params.h"
+#include "ia_css_frame.h"
+
+void
+ia_css_bayer_io_config(
+	const struct ia_css_binary      *binary,
+	const struct sh_css_binary_args *args)
+{
+	const struct ia_css_frame *in_frame = args->in_frame;
+	const struct ia_css_frame **out_frames = (const struct ia_css_frame **)& args->out_frame;
+	const struct ia_css_frame_info *in_frame_info = (in_frame) ? &in_frame->info : &binary->in_frame_info;
+
+	const unsigned ddr_bits_per_element = sizeof(short) * 8;
+	const unsigned ddr_elems_per_word = ceil_div(HIVE_ISP_DDR_WORD_BITS, ddr_bits_per_element);
+	unsigned size_get = 0, size_put = 0;
+	unsigned offset = 0;
+
+	if (binary->info->mem_offsets.offsets.param) {
+		size_get = binary->info->mem_offsets.offsets.param->dmem.get.size;
+		offset = binary->info->mem_offsets.offsets.param->dmem.get.offset;
+	}
+
+	if (size_get) {
+		struct ia_css_common_io_config *to = (struct ia_css_common_io_config *)&binary->mem_params.params[IA_CSS_PARAM_CLASS_PARAM][IA_CSS_ISP_DMEM].address[offset];
+		struct dma_port_config config;
+#ifndef IA_CSS_NO_DEBUG
+		ia_css_debug_dtrace(IA_CSS_DEBUG_TRACE_PRIVATE, "ia_css_bayer_io_config() get part enter:\n");
+#endif
+
+		ia_css_dma_configure_from_info(&config, in_frame_info);
+		// The base_address of the input frame will be set in the ISP
+		to->width = in_frame_info->res.width;
+		to->height = in_frame_info->res.height;
+		to->stride = config.stride;
+		to->ddr_elems_per_word = ddr_elems_per_word;
+#ifndef IA_CSS_NO_DEBUG
+		ia_css_debug_dtrace(IA_CSS_DEBUG_TRACE_PRIVATE, "ia_css_bayer_io_config() get part leave:\n");
+#endif
+	}
+
+	if (binary->info->mem_offsets.offsets.param) {
+		size_put = binary->info->mem_offsets.offsets.param->dmem.put.size;
+		offset = binary->info->mem_offsets.offsets.param->dmem.put.offset;
+	}
+
+	if (size_put) {
+		struct ia_css_common_io_config *to = (struct ia_css_common_io_config *)&binary->mem_params.params[IA_CSS_PARAM_CLASS_PARAM][IA_CSS_ISP_DMEM].address[offset];
+		struct dma_port_config config;
+#ifndef IA_CSS_NO_DEBUG
+		ia_css_debug_dtrace(IA_CSS_DEBUG_TRACE_PRIVATE, "ia_css_bayer_io_config() put part enter:\n");
+#endif
+
+		ia_css_dma_configure_from_info(&config, &out_frames[0]->info);
+		to->base_address = out_frames[0]->data;
+		to->width = out_frames[0]->info.res.width;
+		to->height = out_frames[0]->info.res.height;
+		to->stride = config.stride;
+		to->ddr_elems_per_word = ddr_elems_per_word;
+
+#ifndef IA_CSS_NO_DEBUG
+		ia_css_debug_dtrace(IA_CSS_DEBUG_TRACE_PRIVATE, "ia_css_bayer_io_config() put part leave:\n");
+#endif
+	}
+}
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
new file mode 100644
index 0000000..ab20ee7
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
@@ -0,0 +1,29 @@
+/*
+ * Support for Intel Camera Imaging ISP subsystem.
+ * Copyright (c) 2015, Intel Corporation.
+ *
+ * This program is free software; you can redistribute it and/or modify it
+ * under the terms and conditions of the GNU General Public License,
+ * version 2, as published by the Free Software Foundation.
+ *
+ * This program is distributed in the hope it will be useful, but WITHOUT
+ * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
+ * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
+ * more details.
+ */
+
+#ifndef __BAYER_IO_HOST_H
+#define __BAYER_IO_HOST_H
+
+#include "ia_css_bayer_io_param.h"
+#include "ia_css_bayer_io_types.h"
+#include "ia_css_binary.h"
+#include "sh_css_internal.h"
+
+
+void
+ia_css_bayer_io_config(
+	const struct ia_css_binary     *binary,
+	const struct sh_css_binary_args *args);
+
+#endif /*__BAYER_IO_HOST_H */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/modes/interface/isp_const.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/modes/interface/isp_const.h
index 9f3d7cc..3941e0f 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/modes/interface/isp_const.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/modes/interface/isp_const.h
@@ -109,46 +109,51 @@
 
 /* skycam kerneltest pipelines */
 #define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_NORM              120
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_LIN               121
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_ACC_SHD           122
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_ACC_AWB           123
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_3A                124
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_ACC_AF            125
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OBGRID            126
-#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_BAYER_DENOISE       127
-#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_DEMOSAIC            128
-#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_YUVP1_C0            130
-#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_YUVP2               131
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_REF               132
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_REF_STRIPED       133
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_XNR_REF           134
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_DVS               135
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_XNR               136
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_XNR_STRIPED       137
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_XNR_BLENDING      138
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_TNR_BLOCK         139
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_ACC_AE            141
-#define SH_CSS_BINARY_ID_VIDEO_RAW                          142
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_ACC_AWB_FR        143
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_DM_RGBPP          144
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_DM_RGBPP_STRIPED  145
-#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_ANR                 146
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_IF                147
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_IF_STRIPED        148
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OUTPUT_SYSTEM     149
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_TNR_STRIPED       150
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_DVS_STRIPED       151
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OBGRID_STRIPED    152
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_COPY_YUV          155
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_COPY_YUV_BLOCK    156
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_COPY_YUV16_BLOCK  157
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_COPY_YUV16_STRIPED 158
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_COPY_BLOCK_STRIPED 159
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_INPUT_YUV         160
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OUTPUT_YUV        161
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OUTPUT_YUV_16     162
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OUTPUT_SPLIT      163
-#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OUTPUT_SYSTEM_STRIPED 164
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_NORM_STRIPED      121
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_LIN               122
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_LIN_STRIPED       123
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_ACC_SHD           124
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_ACC_SHD_STRIPED   125
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_ACC_AWB           126
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_3A                127
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_3A_STRIPED        128
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_ACC_AF            129
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OBGRID            130
+#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_BAYER_DENOISE       131
+#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_BAYER_DENOISE_STRIPED 132
+#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_DEMOSAIC            133
+#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_YUVP1_C0            134
+#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_YUVP2               135
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_REF               136
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_REF_STRIPED       137
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_XNR_REF           138
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_DVS               139
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_XNR               140
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_XNR_STRIPED       141
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_XNR_BLENDING      142
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_TNR_BLOCK         143
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_ACC_AE            144
+#define SH_CSS_BINARY_ID_VIDEO_RAW                          145
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_ACC_AWB_FR        146
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_DM_RGBPP          147
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_DM_RGBPP_STRIPED  148
+#define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_ANR                 149
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_IF                150
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_IF_STRIPED        151
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OUTPUT_SYSTEM     152
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_TNR_STRIPED       153
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_DVS_STRIPED       154
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OBGRID_STRIPED    155
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_COPY_YUV          156
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_COPY_YUV_BLOCK    157
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_COPY_YUV16_BLOCK  158
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_COPY_YUV16_STRIPED 159
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_COPY_BLOCK_STRIPED 160
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_INPUT_YUV         161
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OUTPUT_YUV        162
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OUTPUT_YUV_16     163
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OUTPUT_SPLIT      164
+#define SH_CSS_BINARY_ID_VIDEO_KERNELTEST_OUTPUT_SYSTEM_STRIPED 165
 
 
 /* skycam partial test pipelines*/
@@ -159,6 +164,7 @@
 #define SH_CSS_BINARY_ID_IF_TO_LIN                          205
 #define SH_CSS_BINARY_ID_IF_TO_SHD                          206
 #define SH_CSS_BINARY_ID_IF_TO_BNR                          207
+#define SH_CSS_BINARY_ID_IF_TO_RGBPP_NV12_16                208
 #define SH_CSS_BINARY_ID_IF_TO_RGBPP                        210
 #define SH_CSS_BINARY_ID_IF_TO_YUVP1                        211
 #define SH_CSS_BINARY_ID_IF_TO_DM                           214
@@ -169,6 +175,8 @@
 #define SH_CSS_BINARY_ID_IF_TO_BDS_STRIPED                  224
 #define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_ANR_STRIPED         225
 #define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_YUVP2_STRIPED       227
+#define SH_CSS_BINARY_ID_IF_TO_BDS_RGBP_DVS_STAT_C0         228
+#define SH_CSS_BINARY_ID_IF_TO_BDS_RGBP_DVS_STAT_C0_STRIPED 229
 #define SH_CSS_BINARY_ID_IF_TO_REF                          236
 #define SH_CSS_BINARY_ID_IF_TO_DVS_STRIPED                  237
 #define SH_CSS_BINARY_ID_IF_TO_YUVP2_STRIPED                238
@@ -192,7 +200,13 @@
 #define SH_CSS_BINARY_ID_VIDEO_TEST_ACC_DVS_STAT_C0         266
 #define SH_CSS_BINARY_ID_VIDEO_IF_TO_OSYS_STRIPED           270
 #define SH_CSS_BINARY_ID_IF_TO_OSYS_PRIMARY                 276
-#define SH_CSS_BINARY_ID_IF_TO_OSYS_PRIMARY_STRIPED         279
+#define SH_CSS_BINARY_ID_IF_TO_OSYS_PRIMARY_STRIPED         277
+#define SH_CSS_BINARY_ID_IF_TO_YUVP1_C0_STRIPED             278
+
+/* Skycam IR camera binaries */
+#define SH_CSS_BINARY_ID_IR_IF_TO_OSYS_NO_XNR               300
+#define SH_CSS_BINARY_ID_VIDEO_IR_IF_TO_OSYS_NO_DVS_NO_TNR_NO_XNR    301
+#define SH_CSS_BINARY_ID_IR_IF_TO_OSYS_NO_XNR_NO_DVS_PRIMARY         302
 
 #define XMEM_WIDTH_BITS              HIVE_ISP_DDR_WORD_BITS
 #define XMEM_SHORTS_PER_WORD         (HIVE_ISP_DDR_WORD_BITS/16)
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/modes/interface/isp_exprs.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/modes/interface/isp_exprs.h
index 03f845f..019d5e4 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/modes/interface/isp_exprs.h
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/isp/modes/interface/isp_exprs.h
@@ -65,7 +65,7 @@
 						 (fmt) == IA_CSS_FRAME_FORMAT_NV12    || (fmt) == IA_CSS_FRAME_FORMAT_NV21 || \
 						 (fmt) == IA_CSS_FRAME_FORMAT_NV16    || (fmt) == IA_CSS_FRAME_FORMAT_NV61 || \
 						 (fmt) == IA_CSS_FRAME_FORMAT_UYVY    || (fmt) == IA_CSS_FRAME_FORMAT_YUYV || \
-						 (fmt) == IA_CSS_FRAME_FORMAT_NV12_TILEY)
+						 (fmt) == IA_CSS_FRAME_FORMAT_NV12_16 || (fmt) == IA_CSS_FRAME_FORMAT_NV12_TILEY)
 
 #define IMAGEFORMAT_YUV_INTERLEAVED(fmt)	((fmt) == IA_CSS_FRAME_FORMAT_UYVY    || (fmt) == IA_CSS_FRAME_FORMAT_YUYV)
 
@@ -73,7 +73,7 @@
 
 #define IMAGEFORMAT_SUB_SAMPL_420(fmt)		((fmt) == IA_CSS_FRAME_FORMAT_YUV420 || (fmt) == IA_CSS_FRAME_FORMAT_YV12 || \
 						 (fmt) == IA_CSS_FRAME_FORMAT_NV12   || (fmt) == IA_CSS_FRAME_FORMAT_NV21 || \
-						 (fmt) == IA_CSS_FRAME_FORMAT_NV12TILEY)
+						 (fmt) == IA_CSS_FRAME_FORMAT_NV12_16 || (fmt) == IA_CSS_FRAME_FORMAT_NV12TILEY)
 
 #define IMAGEFORMAT_SUB_SAMPL_422(fmt)		((fmt) == IA_CSS_FRAME_FORMAT_YUV422 || (fmt) == IA_CSS_FRAME_FORMAT_YV16 || \
 						 (fmt) == IA_CSS_FRAME_FORMAT_NV16   || (fmt) == IA_CSS_FRAME_FORMAT_NV61)
@@ -86,7 +86,7 @@
 
 #define IMAGEFORMAT_IS_NV11(fmt)		((fmt) == IA_CSS_FRAME_FORMAT_NV11)
 
-#define IMAGEFORMAT_IS_16BIT(fmt)               ((fmt) == IA_CSS_FRAME_FORMAT_YUV420_16 || (fmt) == IA_CSS_FRAME_FORMAT_YUV422_16)
+#define IMAGEFORMAT_IS_16BIT(fmt)               ((fmt) == IA_CSS_FRAME_FORMAT_YUV420_16 || (fmt) == IA_CSS_FRAME_FORMAT_NV12_16 || (fmt) == IA_CSS_FRAME_FORMAT_YUV422_16)
 
 #endif
 
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/binary/src/binary.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/binary/src/binary.c
index a7e4b5a..b98fc412 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/binary/src/binary.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/binary/src/binary.c
@@ -590,9 +590,9 @@ binary_grid_deci_factor_log2(int width, int height)
 /* 3A/Shading decimation factor spcification (at August 2008)
  * ------------------------------------------------------------------
  * [Image Width (BQ)] [Decimation Factor (BQ)] [Resulting grid cells]
- * 1280 c             32                       40 c
- *  640 c 1279        16                       40 c 80
- *      c  639         8                          c 80
+ * 1280 ?c             32                       40 ?c
+ *  640 ?c 1279        16                       40 ?c 80
+ *      ?c  639         8                          ?c 80
  * ------------------------------------------------------------------
  */
 /* Maximum and minimum decimation factor by the specification */
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/debug/src/ia_css_debug.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/debug/src/ia_css_debug.c
index b71a9a1..90f07c4 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/debug/src/ia_css_debug.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/debug/src/ia_css_debug.c
@@ -346,6 +346,8 @@ static const char *debug_frame_format2str(const enum ia_css_frame_format frame_f
 		return "NV11";
 	case IA_CSS_FRAME_FORMAT_NV12:
 		return "NV12";
+	case IA_CSS_FRAME_FORMAT_NV12_16:
+		return "NV12_16";
 	case IA_CSS_FRAME_FORMAT_NV12_TILEY:
 		return "NV12_TILEY";
 	case IA_CSS_FRAME_FORMAT_NV16:
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/frame/src/frame.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/frame/src/frame.c
index 56dcb11..f42c2d2 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/frame/src/frame.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/runtime/frame/src/frame.c
@@ -53,8 +53,9 @@ static void frame_init_mipi_plane(struct ia_css_frame *frame,
 	unsigned int bytes_per_pixel);
 
 static void frame_init_nv_planes(struct ia_css_frame *frame,
-	unsigned int horizontal_decimation,
-	unsigned int vertical_decimation);
+				 unsigned int horizontal_decimation,
+				 unsigned int vertical_decimation,
+				 unsigned int bytes_per_element);
 
 static void frame_init_yuv_planes(struct ia_css_frame *frame,
 	unsigned int horizontal_decimation,
@@ -368,7 +369,7 @@ enum ia_css_err ia_css_frame_init_planes(struct ia_css_frame *frame)
 			frame->info.padded_width, 1);
 		break;
 	case IA_CSS_FRAME_FORMAT_NV11:
-		frame_init_nv_planes(frame, 4, 1);
+	  frame_init_nv_planes(frame, 4, 1, 1);
 		break;
 		/* nv12 and nv21 have the same frame layout, only the data
 		 * positioning differs.
@@ -376,14 +377,17 @@ enum ia_css_err ia_css_frame_init_planes(struct ia_css_frame *frame)
 	case IA_CSS_FRAME_FORMAT_NV12:
 	case IA_CSS_FRAME_FORMAT_NV21:
 	case IA_CSS_FRAME_FORMAT_NV12_TILEY:
-		frame_init_nv_planes(frame, 2, 2);
+		frame_init_nv_planes(frame, 2, 2, 1);
+		break;
+	case IA_CSS_FRAME_FORMAT_NV12_16:
+		frame_init_nv_planes(frame, 2, 2, 2);
 		break;
 		/* nv16 and nv61 have the same frame layout, only the data
 		 * positioning differs.
 		 */
 	case IA_CSS_FRAME_FORMAT_NV16:
 	case IA_CSS_FRAME_FORMAT_NV61:
-		frame_init_nv_planes(frame, 2, 1);
+		frame_init_nv_planes(frame, 2, 1, 1);
 		break;
 	case IA_CSS_FRAME_FORMAT_YUV420:
 		frame_init_yuv_planes(frame, 2, 2, false, 1);
@@ -654,13 +658,23 @@ static void frame_init_mipi_plane(struct ia_css_frame *frame,
 }
 
 static void frame_init_nv_planes(struct ia_css_frame *frame,
-	unsigned int horizontal_decimation,
-	unsigned int vertical_decimation)
+				 unsigned int horizontal_decimation,
+				 unsigned int vertical_decimation,
+				 unsigned int bytes_per_element)
 {
-	unsigned int y_width = frame->info.padded_width,
-	    y_height = frame->info.res.height,
-	    uv_width = 2 * (y_width / horizontal_decimation),
-	    uv_height = y_height / vertical_decimation, y_bytes, uv_bytes;
+	unsigned int y_width = frame->info.padded_width;
+	unsigned int y_height = frame->info.res.height;
+	unsigned int uv_width;
+	unsigned int uv_height;
+	unsigned int y_bytes;
+	unsigned int uv_bytes;
+	unsigned int y_stride;
+	unsigned int uv_stride;
+
+	assert(horizontal_decimation != 0 && vertical_decimation != 0);
+
+	uv_width = 2 * (y_width / horizontal_decimation);
+	uv_height = y_height / vertical_decimation;
 
 	if (IA_CSS_FRAME_FORMAT_NV12_TILEY == frame->info.format) {
 		y_width   = CEIL_MUL(y_width,   NV12_TILEY_TILE_WIDTH);
@@ -669,13 +683,15 @@ static void frame_init_nv_planes(struct ia_css_frame *frame,
 		uv_height = CEIL_MUL(uv_height, NV12_TILEY_TILE_HEIGHT);
 	}
 
-	y_bytes = y_width * y_height;
-	uv_bytes = uv_width * uv_height;
+	y_stride = y_width * bytes_per_element;
+	uv_stride = uv_width * bytes_per_element;
+	y_bytes = y_stride * y_height;
+	uv_bytes = uv_stride * uv_height;
 
 	frame->data_bytes = y_bytes + uv_bytes;
-	frame_init_plane(&frame->planes.nv.y, y_width, y_width, y_height, 0);
+	frame_init_plane(&frame->planes.nv.y, y_width, y_stride, y_height, 0);
 	frame_init_plane(&frame->planes.nv.uv, uv_width,
-			 uv_width, uv_height, y_bytes);
+			 uv_stride, uv_height, y_bytes);
 	return;
 }
 
@@ -839,6 +855,13 @@ ia_css_elems_bytes_from_info(const struct ia_css_frame_info *info)
 		return 2; /* bytes per pixel */
 	if (info->format == IA_CSS_FRAME_FORMAT_YUV422_16)
 		return 2; /* bytes per pixel */
+	/* Note: Essentially NV12_16 is a 2 bytes per pixel format, this return value is used
+	 * to configure DMA for the output buffer,
+	 * At least in SKC this data is overwriten by isp_output_init.sp.c except for elements(elems),
+	 * which is configured from this return value,
+	 * NV12_16 is implemented by a double buffer of 8 bit elements hence elems should be configured as 8 */
+	if (info->format == IA_CSS_FRAME_FORMAT_NV12_16)
+		return 1; /* bytes per pixel */
 
 	if (info->format == IA_CSS_FRAME_FORMAT_RAW
 		|| (info->format == IA_CSS_FRAME_FORMAT_RAW_PACKED)) {
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css.c
index 8e271cb..03d6b37 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css.c
@@ -2977,7 +2977,9 @@ load_preview_binaries(struct ia_css_pipe *pipe)
 	 * */
 	need_vf_pp = pipe->config.enable_dz;
 	need_vf_pp |= pipe_out_info->format != IA_CSS_FRAME_FORMAT_YUV_LINE &&
-		      !(pipe_out_info->format == IA_CSS_FRAME_FORMAT_NV12 || pipe_out_info->format == IA_CSS_FRAME_FORMAT_NV12_TILEY);
+		      !(pipe_out_info->format == IA_CSS_FRAME_FORMAT_NV12 ||
+			pipe_out_info->format == IA_CSS_FRAME_FORMAT_NV12_16 ||
+			pipe_out_info->format == IA_CSS_FRAME_FORMAT_NV12_TILEY);
 
 	/* Preview step 1 */
 	if (pipe->vf_yuv_ds_input_info.res.width)
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_firmware.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_firmware.c
index 19d57631..30939f2 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_firmware.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_firmware.c
@@ -47,10 +47,10 @@ struct fw_param {
 /* Warning: same order as SH_CSS_BINARY_ID_* */
 static struct firmware_header *firmware_header;
 
-/* The string STR(irci_master_20150311_1503) is a place holder
+/* The string STR(irci_master_20150318_1500) is a place holder
  * which will be replaced with the actual RELEASE_VERSION
  * during package generation. Please do not modify  */
-static const char *release_version = STR(irci_master_20150311_1503);
+static const char *release_version = STR(irci_master_20150318_1500);
 
 #define MAX_FW_REL_VER_NAME	300
 static char FW_rel_ver_name[MAX_FW_REL_VER_NAME] = "---";
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_param_dvs.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_param_dvs.c
index 40bc315..49cf13c 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_param_dvs.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_param_dvs.c
@@ -23,9 +23,6 @@
 #if defined(IS_ISP_2500_SYSTEM)
 #include <components/acc_cluster/acc_dvs_stat/dvs_stat_private.h>
 #include <components/acc_cluster/acc_dvs_stat/host/dvs_stat.host.h>
-
-void dump_mv(struct dvs_stat_mv_entry_public *p_host_entry, int num);
-#define DVS_STAT_MV_DEBUG 0
 #endif
 
 static struct ia_css_dvs_6axis_config *
@@ -256,41 +253,24 @@ void copy_dvs_6axis_table(struct ia_css_dvs_6axis_config *dvs_config_dst,
 }
 
 #if defined(IS_ISP_2500_SYSTEM)
-void dump_mv(struct dvs_stat_mv_entry_public *p_host_entry, int num)
-{
-	int i;
-	static int flag = 0;
-	if (flag == 0) {
-		ia_css_debug_dtrace(IA_CSS_DEBUG_TRACE, "level xPos  yPos  HarrisGrade  xMatch   yMatch   MatchGrade\n");
-		flag = 1;
-	}
-	for (i = 0; i < num; i++) {
-		ia_css_debug_dtrace(IA_CSS_DEBUG_TRACE, "%-1d     %-5d %-5d %-10d   %-5d    %-5d     %-10d\n",
-			p_host_entry[i].level, p_host_entry[i].vec_fe_x_pos, p_host_entry[i].vec_fe_y_pos,
-			p_host_entry[i].harris_grade, p_host_entry[i].vec_fm_x_pos, p_host_entry[i].vec_fm_y_pos,
-			p_host_entry[i].match_grade);
-	}
-}
-
 enum ia_css_err ia_css_get_skc_dvs_statistics(struct ia_css_skc_dvs_statistics *host_stats,
 				   const struct ia_css_isp_skc_dvs_statistics *isp_stats)
 {
 	struct dvs_stat_private_dvs_stat_cfg	dvs_stat_cfg;
 	struct dvs_stat_stripe_data		stripe_data;
 	struct dvs_stat_private_motion_vec *dvs_stat_mv_p = NULL;
-	unsigned char	set_idx, idx, i;
-	hrt_vaddress	dvs_stat_ddr_addr;
-	hrt_vaddress	dvs_stat_cfg_ddr_addr;
-	hrt_vaddress	dvs_stat_stripe_data_ddr_addr;
+	unsigned char				set_idx, entry_idx, idx, i;
+	hrt_vaddress				dvs_stat_ddr_addr;
+	hrt_vaddress				dvs_stat_cfg_ddr_addr;
+	hrt_vaddress				dvs_stat_stripe_data_ddr_addr;
 	struct dvs_stat_private_raw_buffer *raw_buffer_p =
 				(dvs_stat_private_raw_buffer_t *)isp_stats;
 	struct dvs_stat_mv_entry_public	*p_host_entry;
 	struct dvs_stat_mv_private		*p_isp_entry;
-	unsigned short	stripe_x_update;
-	unsigned int	stripe_num;
-	unsigned int	stripe_idx;
-	unsigned int	width_idx;
-	unsigned int	grid_width;
+	unsigned char				stripe_align_skip_idx;
+	unsigned char				stripe_grd_width_align;
+	unsigned short				stripe_x_update;
+	unsigned short				idx_update;
 
 	IA_CSS_ENTER_PRIVATE("host_stats=%p, isp_stats=%p", host_stats, isp_stats);
 
@@ -322,65 +302,68 @@ enum ia_css_err ia_css_get_skc_dvs_statistics(struct ia_css_skc_dvs_statistics *
 
 	/* Translate between private and public configuration */
 	ia_css_dvs_stat_private_to_public_cfg(&host_stats->dvs_stat_cfg, &dvs_stat_cfg);
-	stripe_num = stripe_data.stripe_nums;
-#if DVS_STAT_MV_DEBUG
-	ia_css_dvs_stat_public_cfg_dump((const struct ia_css_2500_dvs_statistics_kernel_config *)&host_stats->dvs_stat_cfg);
-#endif
 
 	/* Translate between private and public motion vectors */
 	for (i = 0; i < IA_CSS_SKC_DVS_STAT_NUM_OF_LEVELS; i++) {
-		idx = 0;
-
-		if (i == 0) {
-			p_host_entry = host_stats->dvs_stat_mv_l0;
-		} else if (i == 1) {
-			p_host_entry = host_stats->dvs_stat_mv_l1;
-		} else {
-			p_host_entry = host_stats->dvs_stat_mv_l2;
-		}
 
+		/* Stripping check - is debubbling needed */
+		stripe_grd_width_align =
+			host_stats->dvs_stat_cfg.grd_cfg[i].grd_cfg.grid_width;
+		stripe_align_skip_idx = stripe_grd_width_align;
+		if (host_stats->dvs_stat_cfg.grd_cfg[i].grd_cfg.grid_width !=
+			stripe_data.grid_width[0][i])
+		{
+			if (stripe_data.grid_width[0][i] % 2)
+			{
+				stripe_grd_width_align++;
+				stripe_align_skip_idx = stripe_data.grid_width[0][i];
+			}
+		}
 		for (set_idx = 0;
-			 set_idx < host_stats->dvs_stat_cfg.grd_cfg[i].grd_cfg.grid_height;
-			 set_idx++)
+		     set_idx < host_stats->dvs_stat_cfg.grd_cfg[i].grd_cfg.grid_height;
+		     set_idx++)
 		{
-			for (stripe_idx = 0; stripe_idx < stripe_num; stripe_idx++) {
-				grid_width = stripe_num == 1 ?
-					host_stats->dvs_stat_cfg.grd_cfg[i].grd_cfg.grid_width :
-					stripe_data.grid_width[stripe_idx][i];
-				stripe_x_update = stripe_idx == 1 ? stripe_data.stripe_offset : 0;
-
-				for (width_idx = 0; width_idx < grid_width; width_idx++) {
-
-					if (i == 0) {
-						p_isp_entry = &dvs_stat_mv_p->dvs_mv_output_l0[stripe_idx][set_idx].mv_entry[width_idx];
-					} else if (i == 1) {
-						p_isp_entry = &dvs_stat_mv_p->dvs_mv_output_l1[stripe_idx][set_idx].mv_entry[width_idx];
-					} else {
-						p_isp_entry = &dvs_stat_mv_p->dvs_mv_output_l2[stripe_idx][set_idx].mv_entry[width_idx];
-					}
-
-
-					p_host_entry[idx].vec_fe_x_pos =
-						p_isp_entry->part0.vec_fe_x_pos + stripe_x_update;
-					p_host_entry[idx].vec_fe_y_pos =
-						p_isp_entry->part0.vec_fe_y_pos;
-					p_host_entry[idx].vec_fm_x_pos =
-						p_isp_entry->part1.vec_fm_x_pos + stripe_x_update;
-					p_host_entry[idx].vec_fm_y_pos =
-						p_isp_entry->part1.vec_fm_y_pos;
-					p_host_entry[idx].harris_grade =
-						p_isp_entry->part2.harris_grade;
-					p_host_entry[idx].match_grade =
-						p_isp_entry->part3.match_grade;
-					p_host_entry[idx].level =
-						p_isp_entry->part3.level;
-					idx++;
+			if (i == 0) {
+				p_host_entry = host_stats->dvs_stat_mv_l0;
+				p_isp_entry = &dvs_stat_mv_p->dvs_mv_output_l0[set_idx].mv_entry[0];
+			} else if (i == 1) {
+				p_host_entry = host_stats->dvs_stat_mv_l1;
+				p_isp_entry = &dvs_stat_mv_p->dvs_mv_output_l1[set_idx].mv_entry[0];
+			} else {
+				p_host_entry = host_stats->dvs_stat_mv_l2;
+				p_isp_entry = &dvs_stat_mv_p->dvs_mv_output_l2[set_idx].mv_entry[0];
+			}
+			stripe_x_update = 0;
+			idx_update = 0;
+			for (entry_idx = 0; entry_idx < stripe_grd_width_align; entry_idx++)
+			{
+				if (entry_idx == stripe_align_skip_idx)
+				{
+					idx_update = 1;
+					p_isp_entry++;
+					continue;
 				}
+				if (entry_idx >= stripe_data.grid_width[0][i])
+					stripe_x_update = stripe_data.stripe_offset;
+				idx = set_idx * host_stats->dvs_stat_cfg.grd_cfg[i].grd_cfg.grid_width +
+					entry_idx - idx_update;
+				p_host_entry[idx].vec_fe_x_pos =
+					p_isp_entry->part0.vec_fe_x_pos + stripe_x_update;
+				p_host_entry[idx].vec_fe_y_pos =
+					p_isp_entry->part0.vec_fe_y_pos;
+				p_host_entry[idx].vec_fm_x_pos =
+					p_isp_entry->part1.vec_fm_x_pos + stripe_x_update;
+				p_host_entry[idx].vec_fm_y_pos =
+					p_isp_entry->part1.vec_fm_y_pos;
+				p_host_entry[idx].harris_grade =
+					p_isp_entry->part2.harris_grade;
+				p_host_entry[idx].match_grade =
+					p_isp_entry->part3.match_grade;
+				p_host_entry[idx].level =
+					p_isp_entry->part3.level;
+				p_isp_entry++;
 			}
 		}
-#if DVS_STAT_MV_DEBUG
-		dump_mv(p_host_entry, idx - 1);
-#endif
 	}
 
 	sh_css_free(dvs_stat_mv_p);
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_params.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_params.c
index 7949e1e..0ce2c69 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_params.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_params.c
@@ -4878,6 +4878,14 @@ free_ia_css_isp_parameter_set_info(
 
 	IA_CSS_ENTER_PRIVATE("void");
 
+	/* sanity check - ptr must be valid */
+	if (!ia_css_refcount_is_valid(ptr)) {
+		IA_CSS_ERROR("%s: IA_CSS_REFCOUNT_PARAM_SET_POOL(0x%x) invalid arg", __func__, ptr);
+		err = IA_CSS_ERR_INVALID_ARGUMENTS;
+		IA_CSS_LEAVE_ERR_PRIVATE(err);
+		return err;
+	}
+
 	mmgr_load(ptr, &isp_params_info.mem_map, sizeof(struct sh_css_ddr_address_map));
 	/* copy map using size info */
 	for (i = 0; i < (sizeof(struct sh_css_ddr_address_map_size)/
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_sp.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_sp.c
index 8f42d3d..3a0b106 100644
--- a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_sp.c
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css/sh_css_sp.c
@@ -61,6 +61,10 @@
 #include "ia_css_isp_configs.h"
 #define IA_CSS_INCLUDE_STATES
 #include "ia_css_isp_states.h"
+#if !defined(IS_ISP_2500_SYSTEM)
+/* This kernel is not used by SKC yet. */
+#include "isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h"
+#endif
 
 struct sh_css_sp_group		sh_css_sp_group;
 struct sh_css_sp_stage		sh_css_sp_stage;
@@ -481,6 +485,7 @@ sh_css_copy_frame_to_spframe(struct ia_css_frame_sp *sp_frame_out,
 		break;
 	case IA_CSS_FRAME_FORMAT_NV11:
 	case IA_CSS_FRAME_FORMAT_NV12:
+	case IA_CSS_FRAME_FORMAT_NV12_16:
 	case IA_CSS_FRAME_FORMAT_NV12_TILEY:
 	case IA_CSS_FRAME_FORMAT_NV21:
 	case IA_CSS_FRAME_FORMAT_NV16:
@@ -547,6 +552,7 @@ set_input_frame_buffer(const struct ia_css_frame *frame)
 	case IA_CSS_FRAME_FORMAT_YUYV:
 	case IA_CSS_FRAME_FORMAT_YUV_LINE:
 	case IA_CSS_FRAME_FORMAT_NV12:
+	case IA_CSS_FRAME_FORMAT_NV12_16:
 	case IA_CSS_FRAME_FORMAT_NV12_TILEY:
 	case IA_CSS_FRAME_FORMAT_NV21:
 	case IA_CSS_FRAME_FORMAT_CSI_MIPI_YUV420_8:
@@ -578,6 +584,7 @@ set_output_frame_buffer(const struct ia_css_frame *frame,
 	case IA_CSS_FRAME_FORMAT_YUV422_16:
 	case IA_CSS_FRAME_FORMAT_NV11:
 	case IA_CSS_FRAME_FORMAT_NV12:
+	case IA_CSS_FRAME_FORMAT_NV12_16:
 	case IA_CSS_FRAME_FORMAT_NV12_TILEY:
 	case IA_CSS_FRAME_FORMAT_NV16:
 	case IA_CSS_FRAME_FORMAT_NV21:
@@ -611,6 +618,7 @@ set_view_finder_buffer(const struct ia_css_frame *frame)
 	switch (frame->info.format) {
 	/* the dual output pin */
 	case IA_CSS_FRAME_FORMAT_NV12:
+	case IA_CSS_FRAME_FORMAT_NV12_16:
 	case IA_CSS_FRAME_FORMAT_NV21:
 	case IA_CSS_FRAME_FORMAT_YUYV:
 	case IA_CSS_FRAME_FORMAT_UYVY:
@@ -834,6 +842,9 @@ configure_isp_from_args(
 	ia_css_raw_configure(pipe, binary, &args->in_frame->info, &binary->in_frame_info, two_ppc, deinterleaved);
 	ia_css_ref_configure(binary, (const struct ia_css_frame **)args->delay_frames, pipe->dvs_frame_delay);
 	ia_css_tnr_configure(binary, (const struct ia_css_frame **)args->tnr_frames);
+#if !defined(IS_ISP_2500_SYSTEM)
+	ia_css_bayer_io_config(binary, args);
+#endif
 }
 
 static void
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
new file mode 120000
index 0000000..f130ad1
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
@@ -0,0 +1 @@
+../../../../../../css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
\ No newline at end of file
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
new file mode 120000
index 0000000..cce0a93
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2400b0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
@@ -0,0 +1 @@
+../../../../../../css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
\ No newline at end of file
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_legacy_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_legacy_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
new file mode 120000
index 0000000..f130ad1
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_legacy_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
@@ -0,0 +1 @@
+../../../../../../css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
\ No newline at end of file
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_legacy_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_legacy_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
new file mode 120000
index 0000000..cce0a93
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_legacy_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
@@ -0,0 +1 @@
+../../../../../../css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
\ No newline at end of file
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
new file mode 120000
index 0000000..f130ad1
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
@@ -0,0 +1 @@
+../../../../../../css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.c
\ No newline at end of file
diff --git a/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
new file mode 120000
index 0000000..cce0a93
--- /dev/null
+++ b/drivers/external_drivers/camera/drivers/media/pci/atomisp2/css2401a0_v21_build/css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
@@ -0,0 +1 @@
+../../../../../../css/isp/kernels/io_ls/bayer_io_ls/ia_css_bayer_io.host.h
\ No newline at end of file
-- 
1.9.1

